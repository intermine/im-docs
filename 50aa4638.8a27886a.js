(window.webpackJsonp=window.webpackJsonp||[]).push([[154],{224:function(e,t,a){"use strict";a.r(t),a.d(t,"frontMatter",(function(){return i})),a.d(t,"metadata",(function(){return l})),a.d(t,"toc",(function(){return p})),a.d(t,"default",(function(){return c}));var n=a(3),r=a(7),o=(a(0),a(549)),i={title:"Galaxy"},l={unversionedId:"webapp/third-party-tools/galaxy",id:"version-4.0.0/webapp/third-party-tools/galaxy",isDocsHomePage:!1,title:"Galaxy",description:"Enable Galaxy export",source:"@site/versioned_docs/version-4.0.0/webapp/third-party-tools/galaxy.md",slug:"/webapp/third-party-tools/galaxy",permalink:"/im-docs/docs/4.0.0/webapp/third-party-tools/galaxy",editUrl:"https://github.com/intermine/im-docs/edit/master/versioned_docs/version-4.0.0/webapp/third-party-tools/galaxy.md",version:"4.0.0",sidebar:"version-4.0.0/someSidebar",previous:{title:"EsyN",permalink:"/im-docs/docs/4.0.0/webapp/third-party-tools/esyn"},next:{title:"GBrowse",permalink:"/im-docs/docs/4.0.0/webapp/third-party-tools/gbrowse"}},p=[{value:"Enable Galaxy export",id:"enable-galaxy-export",children:[]},{value:"Customization",id:"customization",children:[]},{value:"Export Data from InterMine to Galaxy",id:"export-data-from-intermine-to-galaxy",children:[]},{value:"Export Identifiers from Galaxy to InterMine",id:"export-identifiers-from-galaxy-to-intermine",children:[]}],b={toc:p};function c(e){var t=e.components,i=Object(r.a)(e,["components"]);return Object(o.b)("wrapper",Object(n.a)({},b,i,{components:t,mdxType:"MDXLayout"}),Object(o.b)("h2",{id:"enable-galaxy-export"},"Enable Galaxy export"),Object(o.b)("p",null,"The following properties are set in the ",Object(o.b)("inlineCode",{parentName:"p"},"global.web.properties"),". You can override any of those in the ",Object(o.b)("inlineCode",{parentName:"p"},"web.properties")," file."),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-text"}),"# in global.web.properties\ngalaxy.baseurl.default = https://usegalaxy.org\ngalaxy.url.value = /tool_runner?tool_id=intermine\n    galaxy.welcomeMessage = <b>Welcome to InterMine, GALAXY users!</b><br/><br/>You can run queries by clicking on the 'Templates' tab at the top of this page.&nbsp;&nbsp;You can send the query results to Galaxy from the 'EXPORT' menu in the results page.\n    galaxy.disabledMessage = Galaxy export is disabled.\n")),Object(o.b)("p",null,"Update Struts config"),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-markup"}),'# webapp/src/main/resources/struts-config-model.xml\n<action path="/galaxyExportOptions" forward="galaxyExportOptions.page"/>\n<action path="/initGalaxyExportOptions"\n        type="org.intermine.bio.web.struts.GalaxyExportOptionsController"/>\n<action path="/galaxyExportAction" name="galaxyExportForm"\n        type="org.intermine.bio.web.struts.GalaxyExportAction" parameter="method"/>\n')),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-markup"}),'# webapp/src/main/resources/tiles-defs-model.xml\n<definition name="galaxyExportOptions.page" extends="layout.template">\n    <put name="body" value="galaxyExportOptions.tile"/>\n    <put name="pageName" value="galaxyExportOptions"/>\n</definition>\n<definition name="galaxyExportOptions.tile" path="/model/galaxyExportOptions.jsp"\n        controllerUrl="/initGalaxyExportOptions.do"/>\n')),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-markup"}),'# webapp/src/main/resources/struts-config-model-form.xml\n<form-bean name="galaxyExportForm" type="org.intermine.bio.web.struts.GalaxyExportForm"/>\n')),Object(o.b)("h2",{id:"customization"},"Customization"),Object(o.b)("p",null,"Properties located in the ''global.web.properties''' file."),Object(o.b)("table",null,Object(o.b)("thead",{parentName:"table"},Object(o.b)("tr",{parentName:"thead"},Object(o.b)("th",Object(n.a)({parentName:"tr"},{align:"left"}),"parameter"),Object(o.b)("th",Object(n.a)({parentName:"tr"},{align:"left"}),"purpose"),Object(o.b)("th",Object(n.a)({parentName:"tr"},{align:"left"}),"required?"))),Object(o.b)("tbody",{parentName:"table"},Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),"display"),Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),"enable Galaxy export"),Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),"yes","[","1","]",".")),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),"disabledMessage"),Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),"displayed when Galaxy export is disabled"),Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),"yes")),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),"baseurl.default"),Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),"base URL of Galaxy server"),Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),"yes","[","2","]",".")),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),"url.value"),Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),"tool runner URL"),Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),"yes","[","3","]",".")),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),"welcomeMessage"),Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),"displays on the homepage when coming from Galaxy"),Object(o.b)("td",Object(n.a)({parentName:"tr"},{align:"left"}),"yes")))),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-text"}),"# galaxy\n## set to \"false\" to disable galaxy\ngalaxy.display = true\ngalaxy.disabledMessage = Galaxy export is disabled.\ngalaxy.baseurl.default = https://usegalaxy.org\ngalaxy.url.value = /tool_runner?tool_id=intermine\ngalaxy.welcomeMessage = <b>Welcome to InterMine, GALAXY users</b><br/><br/>You can run queries by \\\nclicking on the 'Templates' tab at the top of this page.&nbsp;&nbsp;You can send the query results \\\nto Galaxy from the 'EXPORT' menu in the results page.\n")),Object(o.b)("h2",{id:"export-data-from-intermine-to-galaxy"},"Export Data from InterMine to Galaxy"),Object(o.b)("ol",null,Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Starting from an InterMine instance, e.g. FlyMine, run a query, select the option ",Object(o.b)("strong",{parentName:"p"},"Export")," -",">"," ",Object(o.b)("strong",{parentName:"p"},"Send to Galaxy")," and the data will be exported in the galaxy instance specified in the ",Object(o.b)("em",{parentName:"p"},"Galaxy Location")," field"),Object(o.b)("p",{parentName:"li"},Object(o.b)("img",{src:a(632).default}))),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Starting from Galaxy, use the NEW intermine tool to be redirected to the InterMine registry, select the InterMine instance you want to use to export the data, run the query, select the option ",Object(o.b)("strong",{parentName:"p"},"Export")," -",">"," ",Object(o.b)("strong",{parentName:"p"},"Send to Galaxy")," and the data will be exported in the Galaxy instance you started from."))),Object(o.b)("p",null,Object(o.b)("img",{src:a(633).default})),Object(o.b)("h2",{id:"export-identifiers-from-galaxy-to-intermine"},"Export Identifiers from Galaxy to InterMine"),Object(o.b)("p",null,"Use the new ",Object(o.b)("strong",{parentName:"p"},"InterMine interchange dataset")," to generate an intermediate file ","(","tsv formatted",")"),Object(o.b)("p",null,Object(o.b)("img",{src:a(634).default})),Object(o.b)("p",null,"and then click on ",Object(o.b)("em",{parentName:"p"},"View InterMine at Registry")," to be redirected to the InterMine registry in order to chose the InterMine instance to export the identifiers to."),Object(o.b)("p",null,Object(o.b)("img",{src:a(635).default})))}c.isMDXComponent=!0},549:function(e,t,a){"use strict";a.d(t,"a",(function(){return s})),a.d(t,"b",(function(){return u}));var n=a(0),r=a.n(n);function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){o(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function p(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var b=r.a.createContext({}),c=function(e){var t=r.a.useContext(b),a=t;return e&&(a="function"==typeof e?e(t):l(l({},t),e)),a},s=function(e){var t=c(e.components);return r.a.createElement(b.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},m=r.a.forwardRef((function(e,t){var a=e.components,n=e.mdxType,o=e.originalType,i=e.parentName,b=p(e,["components","mdxType","originalType","parentName"]),s=c(a),m=n,u=s["".concat(i,".").concat(m)]||s[m]||d[m]||o;return a?r.a.createElement(u,l(l({ref:t},b),{},{components:a})):r.a.createElement(u,l({ref:t},b))}));function u(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var o=a.length,i=new Array(o);i[0]=m;var l={};for(var p in t)hasOwnProperty.call(t,p)&&(l[p]=t[p]);l.originalType=e,l.mdxType="string"==typeof e?e:n,i[1]=l;for(var b=2;b<o;b++)i[b]=a[b];return r.a.createElement.apply(null,i)}return r.a.createElement.apply(null,a)}m.displayName="MDXCreateElement"},632:function(e,t,a){"use strict";a.r(t),t.default=a.p+"assets/images/sendtogalaxy-67d842c4f559c00ecca82414caad2026.png"},633:function(e,t,a){"use strict";a.r(t),t.default=a.p+"assets/images/sendtogalaxy2-6052aef196d44029e444f171f685a8de.png"},634:function(e,t,a){"use strict";a.r(t),t.default=a.p+"assets/images/sendtoim-51fbc97f137085d5b05c60ae71f1b98a.png"},635:function(e,t,a){"use strict";a.r(t),t.default=a.p+"assets/images/sendtoim2-ce6e95a231e2d9433539392c75a7bec7.png"}}]);