<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.70">
<link rel="alternate" type="application/rss+xml" href="/im-docs/blog/rss.xml" title="InterMine Server Documentation Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/im-docs/blog/atom.xml" title="InterMine Server Documentation Blog Atom Feed"><title data-react-helmet="true">Upgrading InterMine | InterMine Server Documentation</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="4.0.0"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-4.0.0"><meta data-react-helmet="true" property="og:title" content="Upgrading InterMine | InterMine Server Documentation"><meta data-react-helmet="true" name="description" content="See our blog for details on each of the InterMine releases. You can view the release notes and associated tickets on GitHub too."><meta data-react-helmet="true" property="og:description" content="See our blog for details on each of the InterMine releases. You can view the release notes and associated tickets on GitHub too."><meta data-react-helmet="true" property="og:url" content="http://intermine.org/im-docs/docs/4.0.0/intermine/upgrade"><link data-react-helmet="true" rel="shortcut icon" href="/im-docs/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="http://intermine.org/im-docs/docs/4.0.0/intermine/upgrade"><link rel="stylesheet" href="/im-docs/styles.476f44fe.css">
<link rel="preload" href="/im-docs/styles.2173261e.js" as="script">
<link rel="preload" href="/im-docs/runtime~main.761f81cc.js" as="script">
<link rel="preload" href="/im-docs/main.7c3358f2.js" as="script">
<link rel="preload" href="/im-docs/1.7ae7f33b.js" as="script">
<link rel="preload" href="/im-docs/2.802ab312.js" as="script">
<link rel="preload" href="/im-docs/477.f25401fb.js" as="script">
<link rel="preload" href="/im-docs/478.8c6294ea.js" as="script">
<link rel="preload" href="/im-docs/1d34c4d7.9b41336d.js" as="script">
<link rel="preload" href="/im-docs/17896441.a2cda40a.js" as="script">
<link rel="preload" href="/im-docs/2367701f.b58a8608.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav aria-label="Skip navigation links"><button type="button" tabindex="0" class="skipToContent_11B0">Skip to main content</button></nav><nav class="navbar navbar--fixed-top navbarHideable_17Wu navbarHidden_19ww"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/im-docs/"><img src="/im-docs/img/logo.svg" alt="InterMine Logo" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/im-docs/img/logo.svg" alt="InterMine Logo" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">InterMine Server Documentation</strong></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/im-docs/docs/introduction/index">Docs</a><a href="https://intermineorg.wordpress.com/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Blog</a></div><div class="navbar__items navbar__items--right"><a href="http://intermine.org" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">InterMine</a><a href="https://github.com/intermine/im-docs" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__item navbar__link" href="/im-docs/docs/4.0.0/index">4.0.0</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/im-docs/docs/next/intermine/upgrade">Next</a></li><li><a class="dropdown__link" href="/im-docs/docs/intermine/upgrade">5.0.0</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/im-docs/docs/4.0.0/intermine/upgrade">4.0.0</a></li><li><a href="https://intermine.readthedocs.io/en/latest/" target="_blank" rel="noopener noreferrer" class="dropdown__link">Legacy Documentation</a></li></ul></div><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2N3Q"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_3NWk">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_3NWk">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input type="search" id="search_input_react" placeholder="Search [4.0.0]" aria-label="Search" class="navbar__search-input search-bar"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/im-docs/"><img src="/im-docs/img/logo.svg" alt="InterMine Logo" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/im-docs/img/logo.svg" alt="InterMine Logo" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">InterMine Server Documentation</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/im-docs/docs/introduction/index">Docs</a></li><li class="menu__list-item"><a href="https://intermineorg.wordpress.com/" target="_blank" rel="noopener noreferrer" class="menu__link">Blog</a></li><li class="menu__list-item"><a href="http://intermine.org" target="_blank" rel="noopener noreferrer" class="menu__link">InterMine</a></li><li class="menu__list-item"><a href="https://github.com/intermine/im-docs" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li><li class="menu__list-item"><a role="button" class="menu__link menu__link--sublist">Versions</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/im-docs/docs/next/intermine/upgrade">Next</a></li><li class="menu__list-item"><a class="menu__link" href="/im-docs/docs/intermine/upgrade">5.0.0</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active" href="/im-docs/docs/4.0.0/intermine/upgrade">4.0.0</a></li><li class="menu__list-item"><a href="https://intermine.readthedocs.io/en/latest/" target="_blank" rel="noopener noreferrer" class="menu__link">Legacy Documentation</a></li></ul></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_vMrn"><div class="docSidebarContainer_3Ak5" role="complementary"><div class="sidebar_3gvy sidebarWithHideableNavbar_CROi"><a tabindex="-1" class="sidebarLogo_xFc8" href="/im-docs/"><img src="/im-docs/img/logo.svg" alt="InterMine Logo" class="themedImage_YANc themedImage--light_3CMI"><img src="/im-docs/img/logo.svg" alt="InterMine Logo" class="themedImage_YANc themedImage--dark_3ARp"><strong>InterMine Server Documentation</strong></a><div class="menu menu--responsive thin-scrollbar menu_1yIk"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_1CUI" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/im-docs/docs/4.0.0/index">InterMine Documentation</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">System Requirements</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/system-requirements/hardware/index">Hardware</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Software</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/system-requirements/software/index">Requirements</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/system-requirements/software/git">Git</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/system-requirements/software/java">Java</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/system-requirements/software/perl">Perl</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">PostgreSQL</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/system-requirements/software/postgres/postgres">Installing PostgreSQL</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/system-requirements/software/postgres/hikari">HikariCP and InterMine settings</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/system-requirements/software/tomcat">Tomcat</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/system-requirements/software/macs">Mac Installation Notes</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/system-requirements/software/maven">Maven</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/system-requirements/software/intellij">Intellij</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/system-requirements/software/solr">Solr</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Gradle</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/system-requirements/software/gradle/index">Gradle - Quick Start</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/system-requirements/software/gradle/faqs">Gradle - FAQs</a></li></ul></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Get started</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/get-started/tutorial/index">Tutorial</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/get-started/tutorial/webapp">Tutorial - Configure your InterMine webapp!</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/get-started/tutorial/test-data">Data files to integrate</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/get-started/quick-start">Quick Start</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/get-started/create-your-mine">Create Your Own InterMine!</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/get-started/testmine">Testmine</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/get-started/intermine-tests">InterMine Tests</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">InterMine</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/im-docs/docs/4.0.0/intermine/intermine">InterMine JARs</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/im-docs/docs/4.0.0/intermine/upgrade">Upgrading InterMine</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/im-docs/docs/4.0.0/intermine/roadmap">InterMine Development Roadmap</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/im-docs/docs/4.0.0/intermine/intermine-versions">InterMine Versioning Policy</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/im-docs/docs/4.0.0/intermine/javadoc/index">Building Javadoc</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/im-docs/docs/4.0.0/intermine/get-involved">Contribution Guide</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/im-docs/docs/4.0.0/intermine/amazon">How to set up your InterMine environment on the Amazon Cloud</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Data Model</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/data-model/overview">Data Model Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/data-model/model">Model Description</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/data-model/data-labels">Using Class and Field Labels</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/api/pathquery">The PathQuery API</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/data-model/overlaps">Querying over genomic ranges</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/data-model/model-ontologies">Decorating your model with ontologies</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Database</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/database/download-scripts">Data Download Scripts</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Data Sources</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Data Source Library</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/database/data-sources/library/index">Data Source Library Overview</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Gene Ontology</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/database/data-sources/library/go/go-annotation">GO Annotation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/database/data-sources/library/go/go-obo">GO OBO</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Homologue Data Sources</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/database/data-sources/library/homologues/index">Homologue Data Sources Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/database/data-sources/library/homologues/treefam">Treefam</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/database/data-sources/library/homologues/homologene">Homologene</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/database/data-sources/library/homologues/orthodb">OrthoDB</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/database/data-sources/library/homologues/panther">Panther</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/database/data-sources/library/homologues/compara">Ensembl Compara</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Interactions</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/database/data-sources/library/interactions/biogrid">BioGRID</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/database/data-sources/library/interactions/intact">IntAct</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/database/data-sources/library/interactions/intact-complexes">IntAct - complexes</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/database/data-sources/library/interactions/psi-mi-ontology">PSI-MI Ontology</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Pathway data sources</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/database/data-sources/library/pathways/kegg">KEGG</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/database/data-sources/library/pathways/reactome">Reactome</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Proteins</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/database/data-sources/library/proteins/uniprot">UniProt</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/database/data-sources/library/proteins/interpro">InterPro</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Publications</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/database/data-sources/library/publications/pubmed">PubMed</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/database/data-sources/library/publications/publications">Publications</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/database/data-sources/library/ncbi-gene">NCBI - Entrez gene</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/database/data-sources/library/chado">Chado</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/database/data-sources/library/fasta">FASTA</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/database/data-sources/library/gff">GFF3</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/database/data-sources/library/identifiers/index">Identifier Data Sources</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/database/data-sources/library/intermine-items-xml">InterMine Items XML</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/database/data-sources/library/omim">OMIM</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/database/data-sources/library/organism">Organisms</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/database/data-sources/library/so">Sequence Ontology (SO)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/database/data-sources/library/uberon">Uberon</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/database/data-sources/library/data-sources">Data Sources</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/database/data-sources/library/data-sets">Data Sets</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/database/data-sources/library/variation/vcf">VCF files</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/database/data-sources/custom/index">Writing your own data source</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">InterMine Items XML</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/database/data-sources/apis/index">InterMine Items XML Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/database/data-sources/apis/java-items-api">Java Items API</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/database/data-sources/apis/perl-items-api">Perl Items API</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/database/data-sources/apis/python-items-api">Python Items API</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/database/data-sources/id-resolvers">Id Resolvers</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/database/data-sources/data-licences">Data Licences</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Database Building</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/database/database-building/index">Database Build</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/database/database-building/build-script">project_build script</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/database/database-building/project-xml">Project XML</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/database/database-building/data-integration">Data Integration</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/database/database-building/model-merging">Model Merging</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/database/database-building/primary-keys">Primary Keys</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/database/database-building/priority-config">Priority Configuration</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/database/database-building/post-processing/index">Post processing</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/database/database-building/post-build-updating-with-sql-triggers">Post build updating with SQL triggers</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/database/database-building/debugging">Debugging</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Data Integrity Checks</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/database/data-integrity-checks/template-comparison">Template Comparison</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/database/data-integrity-checks/acceptance-tests">Acceptance Tests</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">InterMine performance</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/database/performance/data-loading">Data loading performance</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/database/performance/precomputing">Query performance (precomputed tables)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/database/performance/configuration">Useful ObjectStore properties</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Web Application</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/webapp/blue-genes/index">Guide to Customising BlueGenes</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/webapp/layout/index">General Layout</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/webapp/homepage/index">Home page</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Report Page</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/webapp/report-page/report-page">Report Page Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/webapp/report-page/report-displayers">Report Displayers</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/webapp/report-page/report-displayers-examples">Report Displayers Examples</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/webapp/report-page/webapp-tables">Webapp Tables CSS &amp; HTML</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/webapp/report-page/permanentURL">Permanent URLs</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Lists</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/webapp/lists/lists-page">Lists page</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/webapp/lists/list-upload">List upload</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/webapp/lists/list-upgrade">List upgrade</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/webapp/lists/list-analysis/index">List analysis</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">List Widgets</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/embedding/list-widgets/index">List Widgets</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/embedding/list-widgets/q-and-a">List Widgets Questions &amp; Answers</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/embedding/list-widgets/enrichment-widgets">List enrichment widgets statistics</a></li></ul></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/webapp/template-queries/index">Template Queries</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/webapp/query-results/index">Query Results</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/webapp/query-builder/index">QueryBuilder</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/webapp/keyword-search/index">Keyword Search</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/webapp/region-search/index">Region Search</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Customise Web Application</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/webapp/properties/intermine-properties">Database and Web application</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/webapp/properties/model-properties">Text and messages</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/webapp/properties/web-properties">Features</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/webapp/properties/webconfig-model">Data and Widget Configuration</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/webapp/properties/class-keys">Class keys</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/webapp/properties/javascript-options">Setting Javascript Options</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/webapp/data-categories/index">Data Categories</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/webapp/markup/index">Web pages markup</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/webapp/help/index">Help</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/webapp/linking-in/index">Linking in to your mine</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/webapp/https">How to set up your InterMine webapp to use https</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Third party tools</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/webapp/third-party-tools/cytoscape">Cytoscape network viewer</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/webapp/third-party-tools/esyn">EsyN</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/webapp/third-party-tools/galaxy">Galaxy</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/webapp/third-party-tools/gbrowse">GBrowse</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/webapp/third-party-tools/heatmap">Heatmap</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/webapp/third-party-tools/jbrowse">JBrowse</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Monitoring Site Usage</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/webapp/monitoring-site-usage/google-analytics">Google Analytics</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/webapp/monitoring-site-usage/trackers">InterMine User Tracking</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/webapp/monitoring-site-usage/search-engines">Search Engines</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/webapp/admin/index">Website Admin</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">User Accounts</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/webapp/user-accounts/userprofile">Userprofile</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/webapp/user-accounts/open-id">Open ID</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/webapp/performance/index">Performance</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/webapp/diagnostic/index">Diagnostic</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Web Services</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/web-services/index">Web Services Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/web-services/authentication">Authentication</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/web-services/iodocs">Customising the default queries in your io-docs application</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Embedding InterMine Components</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/embedding/index">Introduction</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">List Widgets</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/embedding/list-widgets/index">List Widgets</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/embedding/list-widgets/q-and-a">List Widgets Questions &amp; Answers</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/embedding/list-widgets/enrichment-widgets">List enrichment widgets statistics</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Apps/C Grunt Build</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/embedding/apps-c/index">Apps/C Grunt Build</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/embedding/apps-c/usage">Apps/C Usage</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/embedding/apps-c/publication-search">publication-search</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/embedding/apps-c/elastic-med">elastic-med</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/embedding/api-loader">InterMine JavaScript API Loader</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/embedding/imjs">InterMine JavaScript Library</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/embedding/examples">Embedding examples</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/im-docs/docs/4.0.0/help/index">InterMine Video Tutorial Collection</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Support</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/support/mailing-list">Mailing list</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/support/troubleshooting-tips">Troubleshooting tips</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">About Us</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/about/index">InterMine</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/about/contact-us">Contact us</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/4.0.0/about/privacy-policy">Privacy policy</a></li></ul></li></ul></div></div></div><main class="docMainContainer_2iGs"><div class="container padding-vert--lg docItemWrapper_1bxp"><div class="row"><div class="col docItemCol_U38p"><div class="alert alert--warning margin-bottom--md" role="alert"><div>This is documentation for InterMine Server Documentation <strong>4.0.0</strong>, which is no longer actively maintained.</div><div class="margin-top--md">For up-to-date documentation, see the <strong><a href="/im-docs/docs/intermine/upgrade">latest version</a></strong> (5.0.0).</div></div><div class="docItemContainer_a7m4"><article><div><span class="badge badge--secondary">Version: 4.0.0</span></div><header><h1 class="docTitle_Oumm">Upgrading InterMine</h1></header><div class="markdown"><p>See <a href="https://intermineorg.wordpress.com/category/release-notes/" target="_blank" rel="noopener noreferrer">our blog</a> for details on each of the InterMine releases. You can view the <a href="https://github.com/intermine/intermine/releases" target="_blank" rel="noopener noreferrer">release notes</a> and associated tickets on GitHub too.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="upgrade-instructions"></a>Upgrade Instructions<a class="hash-link" href="#upgrade-instructions" title="Direct link to heading">#</a></h2><p>For non-disruptive releases, you can upgrade your mine by incrementing your version number in your mine&#x27;s <code>gradle.properties</code> file:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-text codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"># example -- flymine&#x27;s gradle.properties</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">systemProp.imVersion=4.0.0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">systemProp.bioVersion=4.0.0</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>To get patch updates automatically, use the plus (+) notation:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-text codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"># example -- flymine&#x27;s gradle.properties</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">systemProp.imVersion=4.0.+</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">systemProp.bioVersion=4.0.+</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>Read more: <a href="/im-docs/docs/4.0.0/intermine/intermine-versions">InterMine Versioning Policy</a> and <a href="/im-docs/docs/4.0.0/intermine/roadmap">InterMine Development Roadmap</a>``</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="intermine-431"></a>InterMine 4.3.1<a class="hash-link" href="#intermine-431" title="Direct link to heading">#</a></h2><p>This is a non-disruptive release.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="intermine-430"></a>InterMine 4.3.0<a class="hash-link" href="#intermine-430" title="Direct link to heading">#</a></h2><p>This is a non-disruptive release.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="intermine-420"></a>InterMine 4.2.0<a class="hash-link" href="#intermine-420" title="Direct link to heading">#</a></h2><p>This is a non-disruptive release.</p><p>It mainly contains new webservices to improve BlueGenes support (v. 0.10.0), some fixes related to the type Date, and bioschemas markup on the report page (Gene and protein)</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="intermine-413"></a>InterMine 4.1.3<a class="hash-link" href="#intermine-413" title="Direct link to heading">#</a></h2><p>This is a non-disruptive release.</p><p>It contains a small batch of bug fixes.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="intermine-412"></a>InterMine 4.1.2<a class="hash-link" href="#intermine-412" title="Direct link to heading">#</a></h2><p>This is a non-disruptive release.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="intermine-411"></a>InterMine 4.1.1<a class="hash-link" href="#intermine-411" title="Direct link to heading">#</a></h2><p>This is a non-disruptive release.</p><p>It contains some bug fixes related to ncbi-gff bio source and few improvements from ThaleMine.</p><p>You can build your mine using Gradle wrapper 4.9. To update the version, run the following command in your InterMine instance directory:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-text codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">cd flymine</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">./gradlew wrapper --gradle-version 4.9</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>See our blog post for more details (<a href="https://intermineorg.wordpress.com/2019/10/29/intermine-4-1-1-patch-release/" target="_blank" rel="noopener noreferrer">https://intermineorg.wordpress.com/2019/10/29/intermine-4-1-1-patch-release/</a>).</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="intermine-410"></a>InterMine 4.1.0<a class="hash-link" href="#intermine-410" title="Direct link to heading">#</a></h2><p>This is a non-disruptive release.</p><p>Galaxy integration has been improved; you should remove the galaxy related properties from the web.properties file to benefit from it.</p><p>Integration with ELIXIR AAI has been included.</p><p>Gradle wrapper updated to the 4.9 version.</p><p>Some bug fixes.</p><p>See our blog post for more details (<a href="https://intermineorg.wordpress.com/2019/09/24/intermine-4-1-0/" target="_blank" rel="noopener noreferrer">https://intermineorg.wordpress.com/2019/09/24/intermine-4-1-0/</a>)</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="intermine-401"></a>InterMine 4.0.1<a class="hash-link" href="#intermine-401" title="Direct link to heading">#</a></h2><p>Restore Strains to core data model.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="intermine-400"></a>InterMine 4.0.0<a class="hash-link" href="#intermine-400" title="Direct link to heading">#</a></h2><p>DataSet.licence was added to the data model. To update to this new data model for this release, you&#x27;ll want to rebuild your database and redeploy your webapp.</p><p>To enable the structured data added to the web pages in format of JSON-LD, you should set the property <em>markup.webpages.enable</em> to true in the web.properties file.</p><p>To configure the new URLs used in the &quot;share&quot; button, you should specify the keys in the class_keys.properties file.</p><p>See our <a href="https://intermineorg.wordpress.com/2019/05/09/intermine-4-0-intermine-as-a-fair-framework/" target="_blank" rel="noopener noreferrer">blog post</a> for more details on how to configure and use the new features to make your mine more FAIR.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="intermine-312"></a>InterMine 3.1.2<a class="hash-link" href="#intermine-312" title="Direct link to heading">#</a></h2><p>This is a non-disruptive release.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="intermine-311"></a>InterMine 3.1.1<a class="hash-link" href="#intermine-311" title="Direct link to heading">#</a></h2><p>This is a non-disruptive release.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="intermine-310"></a>InterMine 3.1.0<a class="hash-link" href="#intermine-310" title="Direct link to heading">#</a></h2><p>The class <code>Strain</code> was added to the core InterMine data model in this release.</p><ul><li><p>You will need to rebuild your database with the new model to release</p><p>a new webapp.</p></li><li><p>If you do have Strains in your data, you might think about using the</p><p>core data classes now available.</p></li></ul><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-markup codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">&lt;!-- core.xml --&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">class</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">name</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">Strain</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">extends</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">BioEntity</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">is-interface</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">true</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">attribute</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">name</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">annotationVersion</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">type</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">java.lang.String</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">/&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">attribute</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">name</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">assemblyVersion</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">type</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">java.lang.String</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">/&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">collection</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">name</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">features</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">referenced-type</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">SequenceFeature</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">reverse-reference</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">strain</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">/&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">class</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">class</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">name</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">SequenceFeature</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">extends</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">BioEntity</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">is-interface</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">true</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">&lt;!-- snip --&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">reference</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">name</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">strain</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">referenced-type</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">Strain</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag" style="color:rgb(255, 85, 114)">  </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">reverse-reference</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">features</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">/&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">class</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">class</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">name</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">Organism</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">is-interface</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">true</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">&lt;!-- snip --&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">collection</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">name</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">strains</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">referenced-type</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">Strain</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">/&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">class</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>To update to use the new InterMine release:</p><ul><li>Change your mine&#x27;s <code>gradle.properties</code> file to <code>3.1.+</code>.</li></ul><blockquote><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-text codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"># example -- flymine&#x27;s gradle.properties</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">systemProp.imVersion=3.1.+</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">systemProp.bioVersion=3.1.+</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div></blockquote><ul><li>Change your data sources&#x27; <code>gradle.properties</code> file to <code>3.1.+</code>.</li></ul><blockquote><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-text codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"># example -- flymine-bio-sources gradle.properties</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">systemProp.imVersion=3.1.+</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">systemProp.bioVersion=3.1.+</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div></blockquote><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="intermine-300"></a>InterMine 3.0.0<a class="hash-link" href="#intermine-300" title="Direct link to heading">#</a></h2><p>This release adds Solr to InterMine. To upgrade, you will need to rebuild your database and install Solr.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="to-upgrade"></a>To Upgrade<a class="hash-link" href="#to-upgrade" title="Direct link to heading">#</a></h3><ol><li><p>Change your mine&#x27;s <code>gradle.properties</code> file to <code>3.0.+</code>. If you have data sources, change the version they use too.</p><blockquote><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-text codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"># example -- flymine&#x27;s gradle.properties</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">systemProp.imVersion=3.0.+</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">systemProp.bioVersion=3.0.+</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div></blockquote></li><li><p>Install Solr</p><blockquote><p><a href="/im-docs/docs/4.0.0/system-requirements/software/solr">Solr</a></p></blockquote></li><li><p>Configure Solr</p><blockquote><p><a href="/im-docs/docs/4.0.0/webapp/keyword-search/index">Keyword Search</a></p></blockquote></li><li><p>Rebuild your database.</p><p>Specifically the postprocesses that build the search index.</p></li></ol><p>You should then be able to deploy your webapp as normal, with the new and improved search.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="intermine-2"></a>InterMine 2.+<a class="hash-link" href="#intermine-2" title="Direct link to heading">#</a></h2><p><a href="https://intermineorg.wordpress.com/2017/09/22/intermine-2-0-summer-update/" target="_blank" rel="noopener noreferrer">InterMine 2.0</a> is a disruptive release and is not backwards compatible. This means that databases, webapps and code from previous releases will need to be updated to work with the new InterMine release. Below are detailed instructions on how to migrate your InterMine to the new build system.</p><p><strong>Warning</strong>
If you have custom InterMine code, your changes will likely not work as expected after the upgrade. Please contact us and we can help you migrate your edits to the new system.</p><p>Please contact us if you have any questions or concerns! We have a mailing list or you can contact us directly via email or our discord channel (chat.intermine.org). If you are having difficulties, we can also arrange a skype call to walk through any problems together. Please make sure your code is public, e.g. GitHub, so we can help test!</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="gradle"></a>Gradle<a class="hash-link" href="#gradle" title="Direct link to heading">#</a></h2><p>InterMine now uses Gradle to manage dependencies and to build and run InterMine. Please see <a href="/im-docs/docs/4.0.0/system-requirements/software/gradle/index">Gradle Quick Start</a> for useful Gradle commands and <a href="/im-docs/docs/4.0.0/system-requirements/software/gradle/faqs">Gradle FAQs</a> for help with common questions and errors.</p><p>See the <a href="https://intermineorg.wordpress.com/2017/09/13/intermine-2-0-gradle/" target="_blank" rel="noopener noreferrer">Gradle</a> blog post for details as to why we made this change.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="maven"></a>Maven<a class="hash-link" href="#maven" title="Direct link to heading">#</a></h3><p>You will need Maven installed. We use Maven to manage mine-specific InterMine dependencies, including your mine-specific data parsers.</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-bash codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># for Ubuntu</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">apt-get</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">install</span><span class="token plain"> maven</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>You do not need to install Gradle locally. Instead, use the Gradle wrapper provided.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="remove-intermine-code"></a>Remove InterMine code<a class="hash-link" href="#remove-intermine-code" title="Direct link to heading">#</a></h3><p>Previously, you had to download and compile InterMine. Now, instead, you&#x27;ll be using the compiled InterMine JARs available via Maven. This means you should remove all InterMine code from your mine repositories. Your mine repositories should only contain your mine (webapp and dbmodel) and your mine&#x27;s custom data sources.</p><p>If you have your mine and bio/sources in your InterMine checkout, instead of in their own repository, you&#x27;ll have to separate them out.</p><p>What you want to end up with:</p><blockquote><ul><li><p>FlyMine - <a href="https://github.com/intermine/flymine/" target="_blank" rel="noopener noreferrer">https://github.com/intermine/flymine/</a> (MUST be the</p><p>name of your mine)</p></li><li><p>FlyMine specific data sources -</p><p><a href="https://github.com/intermine/flymine-bio-sources" target="_blank" rel="noopener noreferrer">https://github.com/intermine/flymine-bio-sources</a></p></li></ul></blockquote><p>Options to separate out your mine repo:</p><ol><li><p>You can copy over your directories directly. However, don&#x27;t do this! You&#x27;ll</p><p>lose your history.</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-text codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"># don&#x27;t do this</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">~/git $ cp intermine/flymine flymine; cd flymine</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">~/git/flymine $ git init; git add *; git commit -am &quot;initial commit&quot;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div></li><li><p>Instead, use <code>git filter-branch</code> command. Follow the <a href="https://help.github.com/articles/splitting-a-subfolder-out-into-a-new-repository/" target="_blank" rel="noopener noreferrer">directions</a></p><p>on how to move a directory to a new repository and keep your history</p><p>in GitHub.</p></li></ol><p><strong>You should not have any core InterMine code locally.</strong></p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="new-directory-structure"></a>New directory structure<a class="hash-link" href="#new-directory-structure" title="Direct link to heading">#</a></h3><p>InterMine now uses the standard <a href="https://maven.apache.org/guides/introduction/introduction-to-the-standard-directory-layout.html" target="_blank" rel="noopener noreferrer">Maven directory structure</a>.</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-text codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">src/main/java</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">src/main/resources</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">src/test/java</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">src/test/resources</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>You will have to run two migration scripts to move your current mine over to this new layout -- one script for your mine and one for your mine&#x27;s data parsers. The migration scripts are located in the <a href="https://github.com/intermine/intermine-scripts/blob/master/gradle-migration/data-sources/migrateBioSources.sh" target="_blank" rel="noopener noreferrer">intermine-scripts</a> repository.</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-text codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">~/git $ git clone https://github.com/intermine/intermine-scripts.git</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="migrate-mine-webapp-to-new-directory-structure"></a>Migrate mine webapp to new directory structure<a class="hash-link" href="#migrate-mine-webapp-to-new-directory-structure" title="Direct link to heading">#</a></h4><p>Run &quot;migrateMine&quot; script to move your mine over to the new directory system. You might want to create a new <code>gradle</code> branch for testing.</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-text codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">~/git/intermine-scripts/gradle-migration/mine $ ./migrateMine.sh ~/git/flymine</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="migrate-data-sources-to-new-directory-structure"></a>Migrate data sources to new directory structure<a class="hash-link" href="#migrate-data-sources-to-new-directory-structure" title="Direct link to heading">#</a></h4><p>Run the &quot;migrateBioSources&quot; script to move your sources over to the new directory system.</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-text codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">~/git/intermine-scripts/gradle-migration/data-sources $ ./migrateBioSources.sh ~/git/flymine-bio-sources</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>Run this command to put your sources on the classpath and therefore, available to the database build:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-text codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"># not part of the upgradle process. You will install every time you make a change</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">~/git/flymine-bio-sources $ ./gradlew install --stacktrace</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>This task builds the JARs and places them on your classpath in <code>~/.m2/repository</code>.</p><p>Note the command is <code>./gradlew</code> instead of <code>gradle</code>. Use the provided Gradle wrapper instead of locally installed Gradle.</p><p>You will have to <code>install</code> your sources every time you update the source code in order to update the JAR being used by the build.</p><p>Previously, the data model was merged from all data sources&#x27; additions XML file. This is no longer true. Since each source is in its own JAR now, the data model is self-contained. Therefore if you reference a class in your data parser, it must be present in the additions file. Alternatively, you can specify a single data model file that will be merged into each source:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-text codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">// [in build.gradle in root of your mine bio/sources directory, e.g. flymine-bio-sources]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">// uncomment to specify an extra additions file for your bio-sources</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">// this file will be merged with the additions file for each data source</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">// and included in each source JAR.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">//bioSourceDBModelConfig {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">//    # file should live in your mine&#x27;s bio/sources directory</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">//    globalAdditionsFile = &quot;MY-MINE_additions.xml&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">//}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="update-config"></a>Update config<a class="hash-link" href="#update-config" title="Direct link to heading">#</a></h3><ol><li><p>Remove <code>&lt;property name=&quot;source.location&quot; location=&quot;../bio/sources/&quot;/&gt;</code> from your project XML file.</p></li><li><p>Set <code>GRADLE_OPTS</code> instead of <code>ANT_OPTS</code></p><ul><li>Use the same parameters.</li><li>Append <code>-Dorg.gradle.daemon=false</code> to prevent daemons from being used.</li></ul></li><li><p>Update project XML for some sources:</p><ul><li><p><code>SO</code> source&#x27;s location has been updated to be:</p><p><code>&lt;property name=&quot;src.data.file&quot; location=&quot;so.obo&quot;/&gt;</code></p></li><li><p><code>Protein2ipr</code> source has a new attribute:</p><p><code>&lt;property name=&quot;osAlias&quot; value=&quot;os.production&quot;/&gt;</code></p></li><li><p><code>intermine-items-xml-file</code> isn&#x27;t a valid value for &quot;type&quot; anymore. Use the project name instead.</p></li><li><p><code>src.data.dir</code> can only have a <code>location</code> attribute. <code>src.data.dir</code></p><p>cannot have a <code>value</code> attribute.</p></li><li><p>Change the location of the generated files for <code>entrez-organism</code> and</p><p><code>update-publications</code> data sources to be <code>organisms.xml</code> and <code>publications.xml</code>(instead of in the <code>build</code> directory)</p></li></ul></li><li><p>InterPro data file needs to be updated. The file incorrectly references <code>interpro.dtd</code> when you should have the full path instead.</p><ul><li><p>Update interpro.xml</p></li><li><p><code>&lt;!DOCTYPE interprodb SYSTEM &quot;ftp://ftp.ebi.ac.uk/pub/databases/interpro/interpro.dtd&quot;&gt;</code></p></li><li><p>I asked InterPro to fix but they said no. Maybe you could ask too?</p></li><li><p>See <a href="https://github.com/intermine/intermine/issues/1914" target="_blank" rel="noopener noreferrer">https://github.com/intermine/intermine/issues/1914</a> for the</p><p>discussion.</p></li></ul></li><li><p>Update each data source&#x27;s additions file to be correct. Alternatively you can use the <code>extraAdditionsFile</code> (see previous section).</p></li><li><p><code>PostprocessUtil.java</code> moved to the <code>bio</code>package, so you maybe have to update your import to be <code>import org.intermine.bio.util.PostProcessUtil;</code>.</p></li></ol><p>Please see <a href="/im-docs/docs/4.0.0/system-requirements/software/gradle/index">Gradle Quick Start</a> for details on Gradle and common Gradle commands and <a href="/im-docs/docs/4.0.0/system-requirements/software/gradle/faqs">Gradle FAQs</a> for help with common questions and errors.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="data-model"></a>Data Model<a class="hash-link" href="#data-model" title="Direct link to heading">#</a></h2><ul><li><p>Syntenic Regions have been added to the data model.</p></li><li><p>Protein.molecularWeight is now a Float instead of an Integer.</p></li><li><p>GO evidence codes now have a name and URL.</p></li><li><p>OntologyAnnotation can now annotate any InterMine object, as long as</p><p>that class inherits <code>Annotatable</code>.</p></li><li><p>Sequence Ontolgy has been updated to the latest version.</p></li><li><p>Organism.taxonId is a String instead of an Integer.</p></li></ul><p>See the <a href="https://intermineorg.wordpress.com/2017/09/08/intermine-2-0-proposed-model-changes-iii/" target="_blank" rel="noopener noreferrer">Model Changes</a> blog post for details.</p><p>You may have to update your data sources and queries to match the new data model.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="dependencies"></a>Dependencies<a class="hash-link" href="#dependencies" title="Direct link to heading">#</a></h2><p>Software dependency requirements have been updated to the latest versions. This is so that we can get rid of legacy code and make use of new features.</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-text codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">Java SDK 8</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Tomcat 8.5.x</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Postgres 9.3+</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>You will get errors if you use older versions. e.g. If you use Java 7, you will get this error: <code>Caused by: java.security.NoSuchProviderException: no such provider: SunEC</code></p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="api-changes"></a>API changes<a class="hash-link" href="#api-changes" title="Direct link to heading">#</a></h2><p>We are making some non-backwards compatible changes to our API. These three end points have a parameter called <code>xml</code> which holds the XML query. We are going to rename this parameter to be <code>query</code> (as we now accept JSON queries!) to match the syntax of all the other end points.</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-text codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">/query/upload</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">/template/upload</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">/user/queries (POST)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>Please update any code that references these end points.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="pre-intermine-20-upgrade-instructions"></a>Pre-InterMine 2.0 Upgrade Instructions<a class="hash-link" href="#pre-intermine-20-upgrade-instructions" title="Direct link to heading">#</a></h2><p>To pull changes in your local repository and merge them into your working files, use this command:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-bash codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token function" style="color:rgb(130, 170, 255)">git</span><span class="token plain"> pull upstream</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>If you host a copy of the <a href="/im-docs/docs/4.0.0/webapp/performance/index">CDN</a>, then you should also pull in changes from that repository.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="upgrade-to-intermine-16"></a>Upgrade to InterMine 1.6<a class="hash-link" href="#upgrade-to-intermine-16" title="Direct link to heading">#</a></h2><p>The core model of InterMine has changed in release 1.1, so you may encounter more errors than usual.</p><p><strong>update integration keys</strong></p><p>You may need to update your integration keys if they are using a class or field thatâ€™s been changed.</p><p><strong>update custom converter</strong></p><p>If you are storing data using a class or field thatâ€™s been changed, you will have to change your code to use the new model. See the complete list of model changes below.</p><p><strong>template queries</strong></p><p>You will have to update your templates to use the new model.</p><p><strong>interaction viewer</strong></p><p>The cytoscape tool uses the new model. It will not work until you build a database with the new code</p><p>Interactions</p><table><thead><tr><th align="left">class</th><th align="left">old</th><th align="left">new</th></tr></thead><tbody><tr><td align="left">Interaction</td><td align="left">gene1</td><td align="left">participant1</td></tr><tr><td align="left"></td><td align="left">gene2</td><td align="left">participant2</td></tr><tr><td align="left"></td><td align="left">relationshipType (Term)</td><td align="left">relationshipType (String)</td></tr><tr><td align="left">InteractionDetail</td><td align="left">allInteractors (Gene)</td><td align="left">allInteractors (Interactor)</td></tr><tr><td align="left">Interactor</td><td align="left">â€“</td><td align="left">stoichiometry</td></tr><tr><td align="left"></td><td align="left">InteractionDetail.role1</td><td align="left">role</td></tr><tr><td align="left"></td><td align="left">InteractionDetail.type</td><td align="left">type</td></tr></tbody></table><p>Protein Domains</p><table><thead><tr><th align="left">class</th><th align="left">old</th><th align="left">new</th></tr></thead><tbody><tr><td align="left">ProteinDomain</td><td align="left">proteins</td><td align="left">proteinDomainRegions</td></tr><tr><td align="left">Protein</td><td align="left">proteinDomains</td><td align="left">proteinDomainRegions</td></tr><tr><td align="left">ProteinDomainRegion</td><td align="left">â€“</td><td align="left">start</td></tr><tr><td align="left"></td><td align="left">â€“</td><td align="left">end</td></tr><tr><td align="left"></td><td align="left">â€“</td><td align="left">identifier</td></tr><tr><td align="left"></td><td align="left">â€“</td><td align="left">database</td></tr></tbody></table><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="upgrade-to-intermine-14"></a>Upgrade to InterMine 1.4<a class="hash-link" href="#upgrade-to-intermine-14" title="Direct link to heading">#</a></h2><p>There are no model changes, but we&#x27;ve added some new features that require an update.</p><p>We&#x27;ve added a fancy new connection pool for performance improvement. However, you do need to update some configuration files.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="postgres-config-file"></a>Postgres config file<a class="hash-link" href="#postgres-config-file" title="Direct link to heading">#</a></h3><p>The number of database connections required will depend on your usage. 100 connections is the default and should be okay for production webapps. However, each webapp reserves 20 connections. So, on your dev machines, it may be wise to raise the maximum quite a bit.</p><p>{% tabs %}
{% tab title=&quot;postgresql.conf&quot; %}
max_connections=250
{% endtab %}
{% endtabs %}</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="mine-properties-files"></a>$MINE properties files<a class="hash-link" href="#mine-properties-files" title="Direct link to heading">#</a></h3><p>in your $MINE directory:</p><p>{% tabs %}
{% tab title=&quot;default.intermine.integrate.properties&quot; %}
set</p><p><code>db.production.datasource.maxConnections=20</code></p><p><code>db.common-tgt-items.datasource.maxConnections=5</code></p><p>and for each database, replace</p><p><code>db.production.datasource.class=org.postgresql.ds.PGPoolingDataSource</code></p><p>(or any other db pooling class)</p><p>with these 2 lines</p><p><code>db.production.datasource.class=com.zaxxer.hikari.HikariDataSource db.production.datasource.dataSourceClassName=org.postgresql.ds.PGSimpleDataSource</code>
{% endtab %}
{% endtabs %}</p><p>{% tabs %}
{% tab title=&quot;default.intermine.webapp.properties&quot; %}
set</p><p><code>db.production.datasource.maxConnections=20</code></p><p>and for each database, replace</p><p><code>db.production.datasource.class=org.postgresql.ds.PGPoolingDataSource</code></p><p>(or any other db pooling class)</p><p>with these 2 lines</p><p><code>db.production.datasource.class=com.zaxxer.hikari.HikariDataSource db.production.datasource.dataSourceClassName=org.postgresql.ds.PGSimpleDataSource</code>
{% endtab %}
{% endtabs %}</p><p>Any other data source you use should be set to five connections and increased to ten if you encounter problems, e.g. the build failing with an error like so:</p><p>{% tabs %}
{% tab title=&quot;Error message&quot; %}
Caused by: org.postgresql.util.PSQLException: FATAL: connection limit exceeded for non-superusers
{% endtab %}
{% endtabs %}</p><p>Or this (See <a href="https://github.com/intermine/intermine/issues/912" target="_blank" rel="noopener noreferrer">#912</a>)</p><p>{% tabs %}
{% tab title=&quot;Error message&quot; %}
Unable to get sub-ObjectStore for Translating ObjectStore
{% endtab %}
{% endtabs %}</p><p>See <a href="/im-docs/docs/4.0.0/system-requirements/software/postgres/hikari">HikariCP and InterMine settings</a> for details.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="intermine-model-refactor"></a>InterMine-model Refactor<a class="hash-link" href="#intermine-model-refactor" title="Direct link to heading">#</a></h3><p>The metadata package has moved to <a href="https://github.com/intermine/intermine/tree/beta/intermine/model/main/src/org/intermine" target="_blank" rel="noopener noreferrer">InterMine-model</a>. If you have custom data sources that use InterMine Utils, you may have to update your code to reflect the new location. Your IDE should be able to do this for you.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="tomcat"></a>Tomcat<a class="hash-link" href="#tomcat" title="Direct link to heading">#</a></h3><p>Add <code>clearReferencesStopTimerThreads</code> to your $TOMCAT/conf/context.xml file, so it should look like so:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-markup codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">Context</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">sessionCookiePath</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">/</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">useHttpOnly</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">false</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">clearReferencesStopTimerThreads</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">true</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">Context</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="upgrade-to-intermine-13x"></a>Upgrade to InterMine 1.3.x<a class="hash-link" href="#upgrade-to-intermine-13x" title="Direct link to heading">#</a></h2><p>This code will work with any webapp and database created with InterMine 1.3+.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="upgrade-to-intermine-13"></a>Upgrade to InterMine 1.3<a class="hash-link" href="#upgrade-to-intermine-13" title="Direct link to heading">#</a></h2><ul><li><p>Removed all duplicate entries from web.xml.</p></li><li><p>Model changes include the following:</p><ul><li><p>DataSet now has a publication reference.</p></li><li><p>AnnotationExtension has been moved from GOAnnotation to</p><p>GOEvidence.</p></li></ul></li></ul><p>Also, we have changed our GO parser a bit. Each line in a gene annotation file now corresponds with an Evidence object. In prior releases, each Evidence object was unique e.g. only a single evidence code per gene / GO term pair.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="upgrade-to-intermine-121"></a>Upgrade to InterMine 1.2.1<a class="hash-link" href="#upgrade-to-intermine-121" title="Direct link to heading">#</a></h2><p>If you have your own home page (begin.jsp), you must manually make this change: <a href="https://github.com/intermine/intermine/commit/501e221ff1804d387cd3de7e69d99fc2fd943d41" target="_blank" rel="noopener noreferrer">501e221</a></p><p>This is a fix for the keyword search - when users submit a blank search form, see <a href="https://github.com/intermine/intermine/issues/329" target="_blank" rel="noopener noreferrer">Issue #329</a></p><p>There are no model or configuration changes in this release.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="upgrade-to-intermine-12"></a>Upgrade to InterMine 1.2<a class="hash-link" href="#upgrade-to-intermine-12" title="Direct link to heading">#</a></h2><p>The core data model has not been changed, so you should be able to release a webapp using InterMine 1.2 code without making any changes.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="upgrade-to-intermine-11"></a>Upgrade to InterMine 1.1<a class="hash-link" href="#upgrade-to-intermine-11" title="Direct link to heading">#</a></h2><p>The core model of InterMine has changed in release 1.1, so you may encounter more errors than usual.</p><p><strong>update integration keys</strong></p><p>You may need to update your integration keys if they are using a class or field thatâ€™s been changed.</p><p><strong>update custom converter</strong></p><p>If you are storing data using a class or field thatâ€™s been changed, you will have to change your code to use the new model. See the complete list of model changes below.</p><p><strong>template queries</strong></p><p>You will have to update your templates to use the new model.</p><p><strong>interaction viewer</strong></p><p>Widget uses the new model - will not work until you build a database with the new code.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="model-changes"></a>Model Changes<a class="hash-link" href="#model-changes" title="Direct link to heading">#</a></h3><p>Updated to latest version of Sequence Ontology, 2.5</p><table><thead><tr><th align="left">old</th><th align="left">new</th></tr></thead><tbody><tr><td align="left">Comment.text</td><td align="left">Comment.description</td></tr><tr><td align="left">Gene.ncbiGeneNumber</td><td align="left">â€“</td></tr><tr><td align="left">â€“</td><td align="left">Gene.description</td></tr><tr><td align="left">â€“</td><td align="left">Gene.briefDescription</td></tr></tbody></table><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="interactions"></a>Interactions<a class="hash-link" href="#interactions" title="Direct link to heading">#</a></h4><table><thead><tr><th align="left">class</th><th align="left">old</th><th align="left">new</th></tr></thead><tbody><tr><td align="left">Interaction</td><td align="left">gene</td><td align="left">gene1</td></tr><tr><td align="left"></td><td align="left">interactingGenes</td><td align="left">gene2</td></tr><tr><td align="left"></td><td align="left">type</td><td align="left">details.type</td></tr><tr><td align="left"></td><td align="left">role</td><td align="left">details.role1</td></tr><tr><td align="left"></td><td align="left">â€“</td><td align="left">details.role2</td></tr><tr><td align="left"></td><td align="left">name</td><td align="left">details.name</td></tr><tr><td align="left"></td><td align="left">shortName</td><td align="left">â€“</td></tr><tr><td align="left">InteractionRegion</td><td align="left">primaryIdentifier</td><td align="left">â€“</td></tr><tr><td align="left"></td><td align="left">name</td><td align="left">â€“</td></tr></tbody></table><h4></h4><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="gene-ontology"></a>Gene Ontology<a class="hash-link" href="#gene-ontology" title="Direct link to heading">#</a></h4><table><thead><tr><th align="left">class</th><th align="left">old</th><th align="left">new</th></tr></thead><tbody><tr><td align="left">GOAnnotation</td><td align="left">withText</td><td align="left">evidence.withText</td></tr><tr><td align="left"></td><td align="left">with</td><td align="left">evidence.with</td></tr><tr><td align="left"></td><td align="left">â€“</td><td align="left">annotationExtension</td></tr><tr><td align="left">OntologyTerm</td><td align="left">â€“</td><td align="left">crossReferences [1]</td></tr></tbody></table><blockquote><p>[1] used for Uberon</p></blockquote><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="identifiers"></a>Identifiers<a class="hash-link" href="#identifiers" title="Direct link to heading">#</a></h3><p>We have several [wiki:Homologue new homologue data converters] available in this InterMine release. However, some of these new data sources use Ensembl IDs. If you want to load the model organism database identifier instead (important for interoperation with other InterMines), you should use the Entrez Gene ID resolver. To do this:</p><ol><li><p>Download the identifier file -</p><p><a href="ftp://ftp.ncbi.nih.gov/gene/DATA/gene_info.gz" target="_blank" rel="noopener noreferrer">ftp://ftp.ncbi.nih.gov/gene/DATA/gene_info.gz</a></p></li><li><p>Unzip the file</p></li><li><p>Add the path to properties file like so:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-text codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"># in ~/.intermine/MINE_NAME.properties</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">resolver.entrez.file=/DATA_DIR/ncbi/gene_info</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div></li></ol><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="configuration-updates"></a>Configuration Updates<a class="hash-link" href="#configuration-updates" title="Direct link to heading">#</a></h3><p>Web services use the <code>webapp.baseurl</code> property to run queries, so be sure this is the valid URL for your mine. Otherwise, you will get an &quot;Unable to construct query&quot; error on the query results page.</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-text codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"># in ~/.intermine/MINE_NAME.properties</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"># used by web services for running queries, needs to be valid</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">webapp.baseurl=http://localhost:8080</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/intermine/im-docs/edit/master/versioned_docs/version-4.0.0/intermine/upgrade.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2LL7"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/im-docs/docs/4.0.0/intermine/intermine"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« InterMine JARs</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/im-docs/docs/4.0.0/intermine/roadmap"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">InterMine Development Roadmap Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_2xL- thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#upgrade-instructions" class="table-of-contents__link">Upgrade Instructions</a></li><li><a href="#intermine-431" class="table-of-contents__link">InterMine 4.3.1</a></li><li><a href="#intermine-430" class="table-of-contents__link">InterMine 4.3.0</a></li><li><a href="#intermine-420" class="table-of-contents__link">InterMine 4.2.0</a></li><li><a href="#intermine-413" class="table-of-contents__link">InterMine 4.1.3</a></li><li><a href="#intermine-412" class="table-of-contents__link">InterMine 4.1.2</a></li><li><a href="#intermine-411" class="table-of-contents__link">InterMine 4.1.1</a></li><li><a href="#intermine-410" class="table-of-contents__link">InterMine 4.1.0</a></li><li><a href="#intermine-401" class="table-of-contents__link">InterMine 4.0.1</a></li><li><a href="#intermine-400" class="table-of-contents__link">InterMine 4.0.0</a></li><li><a href="#intermine-312" class="table-of-contents__link">InterMine 3.1.2</a></li><li><a href="#intermine-311" class="table-of-contents__link">InterMine 3.1.1</a></li><li><a href="#intermine-310" class="table-of-contents__link">InterMine 3.1.0</a></li><li><a href="#intermine-300" class="table-of-contents__link">InterMine 3.0.0</a><ul><li><a href="#to-upgrade" class="table-of-contents__link">To Upgrade</a></li></ul></li><li><a href="#intermine-2" class="table-of-contents__link">InterMine 2.+</a></li><li><a href="#gradle" class="table-of-contents__link">Gradle</a><ul><li><a href="#maven" class="table-of-contents__link">Maven</a></li><li><a href="#remove-intermine-code" class="table-of-contents__link">Remove InterMine code</a></li><li><a href="#new-directory-structure" class="table-of-contents__link">New directory structure</a></li><li><a href="#update-config" class="table-of-contents__link">Update config</a></li></ul></li><li><a href="#data-model" class="table-of-contents__link">Data Model</a></li><li><a href="#dependencies" class="table-of-contents__link">Dependencies</a></li><li><a href="#api-changes" class="table-of-contents__link">API changes</a></li><li><a href="#pre-intermine-20-upgrade-instructions" class="table-of-contents__link">Pre-InterMine 2.0 Upgrade Instructions</a></li><li><a href="#upgrade-to-intermine-16" class="table-of-contents__link">Upgrade to InterMine 1.6</a></li><li><a href="#upgrade-to-intermine-14" class="table-of-contents__link">Upgrade to InterMine 1.4</a><ul><li><a href="#postgres-config-file" class="table-of-contents__link">Postgres config file</a></li><li><a href="#mine-properties-files" class="table-of-contents__link">$MINE properties files</a></li><li><a href="#intermine-model-refactor" class="table-of-contents__link">InterMine-model Refactor</a></li><li><a href="#tomcat" class="table-of-contents__link">Tomcat</a></li></ul></li><li><a href="#upgrade-to-intermine-13x" class="table-of-contents__link">Upgrade to InterMine 1.3.x</a></li><li><a href="#upgrade-to-intermine-13" class="table-of-contents__link">Upgrade to InterMine 1.3</a></li><li><a href="#upgrade-to-intermine-121" class="table-of-contents__link">Upgrade to InterMine 1.2.1</a></li><li><a href="#upgrade-to-intermine-12" class="table-of-contents__link">Upgrade to InterMine 1.2</a></li><li><a href="#upgrade-to-intermine-11" class="table-of-contents__link">Upgrade to InterMine 1.1</a><ul><li><a href="#model-changes" class="table-of-contents__link">Model Changes</a></li><li><a href="#identifiers" class="table-of-contents__link">Identifiers</a></li><li><a href="#configuration-updates" class="table-of-contents__link">Configuration Updates</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/im-docs/docs/get-started/tutorial/index">Tutorial</a></li><li class="footer__item"><a class="footer__link-item" href="/im-docs/docs/get-started/create-your-mine">Create Your Own InterMine</a></li><li class="footer__item"><a class="footer__link-item" href="/im-docs/docs/web-services/index">Web Services</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="http://chat.intermine.org" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord</a></li><li class="footer__item"><a href="https://twitter.com/intermineorg" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a href="https://intermineorg.wordpress.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Blog</a></li><li class="footer__item"><a href="https://github.com/intermine/im-docs" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="/im-docs/docs/4.0.0/intermine/docs/about/contact-us">Contact us</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2022, University of Cambridge. Built with Docusaurus.</div></div></div></footer></div>
<script src="/im-docs/styles.2173261e.js"></script>
<script src="/im-docs/runtime~main.761f81cc.js"></script>
<script src="/im-docs/main.7c3358f2.js"></script>
<script src="/im-docs/1.7ae7f33b.js"></script>
<script src="/im-docs/2.802ab312.js"></script>
<script src="/im-docs/477.f25401fb.js"></script>
<script src="/im-docs/478.8c6294ea.js"></script>
<script src="/im-docs/1d34c4d7.9b41336d.js"></script>
<script src="/im-docs/17896441.a2cda40a.js"></script>
<script src="/im-docs/2367701f.b58a8608.js"></script>
</body>
</html>