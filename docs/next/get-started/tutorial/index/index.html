<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.70">
<link rel="alternate" type="application/rss+xml" href="/im-docs/blog/rss.xml" title="InterMine Server Documentation Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/im-docs/blog/atom.xml" title="InterMine Server Documentation Blog Atom Feed"><title data-react-helmet="true">Tutorial | InterMine Server Documentation</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Tutorial | InterMine Server Documentation"><meta data-react-helmet="true" name="description" content="Following the steps on this page, you will set up an example InterMine. You will:"><meta data-react-helmet="true" property="og:description" content="Following the steps on this page, you will set up an example InterMine. You will:"><meta data-react-helmet="true" property="og:url" content="http://intermine.org/im-docs/docs/next/get-started/tutorial/index"><link data-react-helmet="true" rel="shortcut icon" href="/im-docs/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="http://intermine.org/im-docs/docs/next/get-started/tutorial/index"><link rel="stylesheet" href="/im-docs/styles.476f44fe.css">
<link rel="preload" href="/im-docs/styles.2173261e.js" as="script">
<link rel="preload" href="/im-docs/runtime~main.b5ee42fa.js" as="script">
<link rel="preload" href="/im-docs/main.b3319c76.js" as="script">
<link rel="preload" href="/im-docs/1.7ae7f33b.js" as="script">
<link rel="preload" href="/im-docs/2.802ab312.js" as="script">
<link rel="preload" href="/im-docs/477.f25401fb.js" as="script">
<link rel="preload" href="/im-docs/478.8c6294ea.js" as="script">
<link rel="preload" href="/im-docs/935f2afb.8b9d284a.js" as="script">
<link rel="preload" href="/im-docs/17896441.a2cda40a.js" as="script">
<link rel="preload" href="/im-docs/488bcb1e.81cead08.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav aria-label="Skip navigation links"><button type="button" tabindex="0" class="skipToContent_11B0">Skip to main content</button></nav><nav class="navbar navbar--fixed-top navbarHideable_17Wu navbarHidden_19ww"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/im-docs/"><img src="/im-docs/img/logo.svg" alt="InterMine Logo" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/im-docs/img/logo.svg" alt="InterMine Logo" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">InterMine Server Documentation</strong></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/im-docs/docs/introduction/index">Docs</a><a href="https://intermineorg.wordpress.com/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Blog</a></div><div class="navbar__items navbar__items--right"><a href="http://intermine.org" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">InterMine</a><a href="https://github.com/intermine/im-docs" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__item navbar__link" href="/im-docs/docs/next/introduction/index">Next</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/im-docs/docs/next/get-started/tutorial/index">Next</a></li><li><a class="dropdown__link" href="/im-docs/docs/get-started/tutorial/index">5.0.0</a></li><li><a class="dropdown__link" href="/im-docs/docs/4.0.0/get-started/tutorial/index">4.0.0</a></li><li><a href="https://intermine.readthedocs.io/en/latest/" target="_blank" rel="noopener noreferrer" class="dropdown__link">Legacy Documentation</a></li></ul></div><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2N3Q"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_3NWk">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_3NWk">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input type="search" id="search_input_react" placeholder="Search [Next]" aria-label="Search" class="navbar__search-input search-bar"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/im-docs/"><img src="/im-docs/img/logo.svg" alt="InterMine Logo" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/im-docs/img/logo.svg" alt="InterMine Logo" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">InterMine Server Documentation</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/im-docs/docs/introduction/index">Docs</a></li><li class="menu__list-item"><a href="https://intermineorg.wordpress.com/" target="_blank" rel="noopener noreferrer" class="menu__link">Blog</a></li><li class="menu__list-item"><a href="http://intermine.org" target="_blank" rel="noopener noreferrer" class="menu__link">InterMine</a></li><li class="menu__list-item"><a href="https://github.com/intermine/im-docs" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li><li class="menu__list-item"><a role="button" class="menu__link menu__link--sublist">Versions</a><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active" href="/im-docs/docs/next/get-started/tutorial/index">Next</a></li><li class="menu__list-item"><a class="menu__link" href="/im-docs/docs/get-started/tutorial/index">5.0.0</a></li><li class="menu__list-item"><a class="menu__link" href="/im-docs/docs/4.0.0/get-started/tutorial/index">4.0.0</a></li><li class="menu__list-item"><a href="https://intermine.readthedocs.io/en/latest/" target="_blank" rel="noopener noreferrer" class="menu__link">Legacy Documentation</a></li></ul></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_vMrn"><div class="docSidebarContainer_3Ak5" role="complementary"><div class="sidebar_3gvy sidebarWithHideableNavbar_CROi"><a tabindex="-1" class="sidebarLogo_xFc8" href="/im-docs/"><img src="/im-docs/img/logo.svg" alt="InterMine Logo" class="themedImage_YANc themedImage--light_3CMI"><img src="/im-docs/img/logo.svg" alt="InterMine Logo" class="themedImage_YANc themedImage--dark_3ARp"><strong>InterMine Server Documentation</strong></a><div class="menu menu--responsive thin-scrollbar menu_1yIk"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_1CUI" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Introduction</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/introduction/index">InterMine</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/introduction/features">Features</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/introduction/architecture">Architecture</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">System Requirements</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/system-requirements/hardware/index">Hardware</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Software</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/system-requirements/software/index">Requirements</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/system-requirements/software/git">Git</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/system-requirements/software/java">Java</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/system-requirements/software/perl">Perl</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">PostgreSQL</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/system-requirements/software/postgres/postgres">Installing PostgreSQL</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/system-requirements/software/postgres/hikari">HikariCP and InterMine settings</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/system-requirements/software/tomcat">Tomcat</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/system-requirements/software/macs">Mac Installation Notes</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/system-requirements/software/solr">Solr</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Gradle</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/system-requirements/software/gradle/index">Gradle - Quick Start</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/system-requirements/software/gradle/faqs">Gradle - FAQs</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/system-requirements/software/intellij">Intellij</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/system-requirements/software/maven">Maven</a></li></ul></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Get started</a><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/im-docs/docs/next/get-started/tutorial/index">Tutorial</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/im-docs/docs/next/get-started/tutorial/webapp">Tutorial - Configure your InterMine webapp!</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/im-docs/docs/next/get-started/tutorial/test-data">Data files to integrate</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/im-docs/docs/next/get-started/quick-start">Quick Start</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/im-docs/docs/next/get-started/create-your-mine">Create Your Own InterMine!</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/im-docs/docs/next/get-started/testmine">Testmine</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/im-docs/docs/next/get-started/intermine-tests">InterMine Tests</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">InterMine</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/intermine/intermine">InterMine JARs</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/intermine/upgrade">Upgrading InterMine</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/intermine/roadmap">InterMine Development Roadmap</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/intermine/intermine-versions">InterMine Versioning Policy</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/intermine/javadoc/index">Building Javadoc</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/intermine/get-involved">Contribution Guide</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/intermine/amazon">How to set up your InterMine environment on the Amazon Cloud</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Data Model</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/data-model/overview">Data Model Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/data-model/model">Model Description</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/data-model/data-labels">Using Class and Field Labels</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/api/pathquery">The PathQuery API</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/data-model/overlaps">Querying over genomic ranges</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/data-model/model-ontologies">Decorating your model with ontologies</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Database</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/database/download-scripts">Data Download Scripts</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Data Sources</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Data Source Library</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/database/data-sources/library/index">Data Source Library Overview</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Gene Ontology</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/database/data-sources/library/go/go-annotation">GO Annotation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/database/data-sources/library/go/go-obo">GO OBO</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Homologue Data Sources</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/database/data-sources/library/homologues/index">Homologue Data Sources Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/database/data-sources/library/homologues/treefam">Treefam</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/database/data-sources/library/homologues/homologene">Homologene</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/database/data-sources/library/homologues/orthodb">OrthoDB</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/database/data-sources/library/homologues/panther">Panther</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/database/data-sources/library/homologues/compara">Ensembl Compara</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Interactions</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/database/data-sources/library/interactions/biogrid">BioGRID</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/database/data-sources/library/interactions/intact">IntAct</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/database/data-sources/library/interactions/intact-complexes">IntAct - complexes</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/database/data-sources/library/interactions/psi-mi-ontology">PSI-MI Ontology</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Pathway data sources</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/database/data-sources/library/pathways/kegg">KEGG</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/database/data-sources/library/pathways/reactome">Reactome</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Proteins</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/database/data-sources/library/proteins/uniprot">UniProt</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/database/data-sources/library/proteins/interpro">InterPro</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Publications</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/database/data-sources/library/publications/pubmed">PubMed</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/database/data-sources/library/publications/publications">Publications</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/database/data-sources/library/ncbi-gene">NCBI - Entrez gene</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/database/data-sources/library/chado">Chado</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/database/data-sources/library/fasta">FASTA</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/database/data-sources/library/gff">GFF3</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/database/data-sources/library/identifiers/index">Identifier Data Sources</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/database/data-sources/library/intermine-items-xml">InterMine Items XML</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/database/data-sources/library/omim">OMIM</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/database/data-sources/library/organism">Organisms</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/database/data-sources/library/so">Sequence Ontology (SO)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/database/data-sources/library/uberon">Uberon</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/database/data-sources/library/data-sources">Data Sources</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/database/data-sources/library/data-sets">Data Sets</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/database/data-sources/library/variation/vcf">VCF files</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/database/data-sources/custom/index">Writing your own data source</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">InterMine Items XML</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/database/data-sources/apis/index">InterMine Items XML Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/database/data-sources/apis/java-items-api">Java Items API</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/database/data-sources/apis/perl-items-api">Perl Items API</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/database/data-sources/apis/python-items-api">Python Items API</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/database/data-sources/id-resolvers">Id Resolvers</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/database/data-sources/data-licences">Data Licences</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Database Building</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/database/database-building/index">Database Build</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/database/database-building/build-script">project_build script</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/database/database-building/project-xml">Project XML</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/database/database-building/data-integration">Data Integration</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/database/database-building/model-merging">Model Merging</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/database/database-building/primary-keys">Primary Keys</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/database/database-building/priority-config">Priority Configuration</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/database/database-building/post-processing/index">Post processing</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/database/database-building/post-build-updating-with-sql-triggers">Post build updating with SQL triggers</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/database/database-building/debugging">Debugging</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Data Integrity Checks</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/database/data-integrity-checks/template-comparison">Template Comparison</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/database/data-integrity-checks/acceptance-tests">Acceptance Tests</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">InterMine performance</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/database/performance/data-loading">Data loading performance</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/database/performance/precomputing">Query performance (precomputed tables)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/database/performance/configuration">Useful ObjectStore properties</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Web Application</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/webapp/bluegenes/index">BlueGenes</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/webapp/layout/index">General Layout</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/webapp/homepage/index">Home page</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Report Page</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/webapp/report-page/permanentURL">Permanent URLs</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Lists</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/webapp/lists/lists-page">Lists page</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/webapp/lists/list-upload">List upload</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/webapp/lists/list-upgrade">List upgrade</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">List widgets</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/webapp/lists/list-widgets/index">List widgets overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/webapp/lists/list-widgets/embedding">Embedding widgets on a HTML page</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/webapp/lists/list-widgets/enrichment-widgets">List enrichment widgets statistics</a></li></ul></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/webapp/template-queries/index">Template Queries</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/webapp/query-results/index">Query Results</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/webapp/query-builder/index">QueryBuilder</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/webapp/keyword-search/index">Keyword Search</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Customise Web Application</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/webapp/properties/web-properties">Features</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/webapp/properties/oauth2">OAuth2 Settings</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/webapp/properties/webconfig-model">Data and Widget Configuration</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/webapp/properties/class-keys">Class keys</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/webapp/markup/index">Web pages markup</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/webapp/https">How to set up your InterMine webapp to use https</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/webapp/jbrowse">JBrowse</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Tool API</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/webapp/tool-api/overview">Tool API Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/webapp/tool-api/tutorial">Tool API Tutorial</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/webapp/tool-api/specification">Tool API Specification</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Monitoring Site Usage</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/webapp/monitoring-site-usage/google-analytics">Google Analytics</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/webapp/admin/index">Website Admin</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">User Accounts</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/webapp/user-accounts/userprofile">Userprofile</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/webapp/frictionless/index">Frictionless Specifications for InterMine</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Web Services</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/web-services/index">Web Services Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/web-services/intermine-properties">InterMine Properties</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/web-services/authentication">Authentication</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/web-services/diagnostic">Diagnostic</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/web-services/iodocs">Customising the default queries in your io-docs application</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Support</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/support/mailing-list">Mailing list</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/support/troubleshooting-tips">Troubleshooting tips</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">About Us</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/about/index">InterMine</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/about/contact-us">Contact us</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/about/privacy-policy">Privacy policy</a></li></ul></li></ul></div></div></div><main class="docMainContainer_2iGs"><div class="container padding-vert--lg docItemWrapper_1bxp"><div class="row"><div class="col docItemCol_U38p"><div class="alert alert--warning margin-bottom--md" role="alert"><div>This is unreleased documentation for InterMine Server Documentation <strong>Next</strong> version.</div><div class="margin-top--md">For up-to-date documentation, see the <strong><a href="/im-docs/docs/get-started/tutorial/index">latest version</a></strong> (5.0.0).</div></div><div class="docItemContainer_a7m4"><article><div><span class="badge badge--secondary">Version: Next</span></div><header><h1 class="docTitle_Oumm">Tutorial</h1></header><div class="markdown"><p>Following the steps on this page, you will set up an example InterMine. You will:</p><ul><li>Load some real data sets for Malaria (<em>P. falciparum</em>)</li><li>Learn about how data integration works</li><li>Deploy a webapp to query the data</li></ul><p><strong>Note</strong>
See <a href="/im-docs/docs/next/get-started/quick-start">Quick Start</a> if you are impatient and just want to run an InterMine.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="getting-started"></a>Getting Started<a class="hash-link" href="#getting-started" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="software"></a>Software<a class="hash-link" href="#software" title="Direct link to heading">#</a></h3><p>We use <a href="http://git-scm.com" target="_blank" rel="noopener noreferrer">git</a> to manage and distribute source code and <a href="http://gradle.org" target="_blank" rel="noopener noreferrer">gradle</a> as our build system. InterMine makes use of a variety of freely available software packages. For this tutorial, you will need the following software packages installed locally and running:</p><table><thead><tr><th align="left">Software</th><th align="left">At least</th><th align="left">Purpose</th></tr></thead><tbody><tr><td align="left">Git</td><td align="left">1.7</td><td align="left">It is our source control software. We use it to check out, update, manage, and distribute our source code. Note: InterMine is available via Maven Central as executable JARs. We do not recommend downloading the InterMine source code.</td></tr><tr><td align="left">Java SDK</td><td align="left">8</td><td align="left">We use Gradle as our build system and the usage of Gradle requires a Java Software Development Kit (Java SDK) installation. We recommend you use OpenJDK as itâ€™s probably safer moving forward.</td></tr><tr><td align="left">PostgreSQL</td><td align="left">9.3.x</td><td align="left">It is a powerful, open source object-relational database system that uses and extends the SQL language combined with many features that safely store and scale the most complicated data workloads. We use it for our database.</td></tr><tr><td align="left">Tomcat</td><td align="left">8.5.x</td><td align="left">It is an open source implementation of the Java Servlet, JavaServer Pages, Java Expression Language and Java WebSocket technologies. We use it for deploying the web application.</td></tr><tr><td align="left">Solr</td><td align="left">7.2.1</td><td align="left">Solr makes it easy for programmers to develop sophisticated, high-performance search applications with advanced features. We use it for its keyword search in our search engines.</td></tr><tr><td align="left">Perl</td><td align="left">5.8.8</td><td align="left">Many of the build processes are carried out by Perl programs. You will not need it for this tutorial, however, you will need it installed on your system to build or maintain an InterMine installation.</td></tr></tbody></table><p>Note: InterMine only supports installations onto Linux and Mac OS X systems. Windows systems are not supported. We run a mixture of Debian and Fedora servers in our data centre in Cambridge. See <a href="/im-docs/docs/next/system-requirements/software/index">Software</a> for configuration details.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="biotestmine"></a>BioTestMine<a class="hash-link" href="#biotestmine" title="Direct link to heading">#</a></h3><p>Download the mine code from GitHub.</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-text codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ mkdir git</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ cd git</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">~/git $ git clone https://github.com/intermine/biotestmine</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="get-rid-of-daemons"></a>Get rid of daemons<a class="hash-link" href="#get-rid-of-daemons" title="Direct link to heading">#</a></h3><p>Gradle has helper processes enabled by default. We&#x27;re going to disable those by setting <code>-Dorg.gradle.daemon=false</code></p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-text codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">~/git $ export GRADLE_OPTS=&quot;-Dorg.gradle.daemon=false&quot;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="help-somethings-gone-wrong"></a>Help! Something&#x27;s gone wrong.<a class="hash-link" href="#help-somethings-gone-wrong" title="Direct link to heading">#</a></h3><p>If at any point you need help or have a quick (or not so quick) question, please <a href="http://intermine.org/contact/" target="_blank" rel="noopener noreferrer">get in touch</a>! We have a discord server, twitter and a developer mailing list.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="biotest-mine"></a>BioTest Mine<a class="hash-link" href="#biotest-mine" title="Direct link to heading">#</a></h2><p>BioTestMine is a dummy test mine we use to test out new features which contains real (old) data for Malaria (<em>P. falciparum</em>).</p><p>To get started, change into the directory you checked out the BiotestMine source code to and look at the sub-directories:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-bash codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">~/git $ </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">cd</span><span class="token plain"> biotestmine</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">~/git/biotestmine $ </span><span class="token function" style="color:rgb(130, 170, 255)">ls</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><table><thead><tr><th align="left">directory/file</th><th align="left">purpose</th></tr></thead><tbody><tr><td align="left">/dbmodel</td><td align="left">contains information about the data model and related configuration files</td></tr><tr><td align="left">/webapp</td><td align="left">basic configuration for the webapp</td></tr><tr><td align="left">/data</td><td align="left">contains a tar file with data to load</td></tr><tr><td align="left">build.gradle</td><td align="left">The â€“stacktrace option will display complete error messages if there is a problem.</td></tr><tr><td align="left">gradle.properties</td><td align="left">Sets system variables. Determines which version of InterMine you use.</td></tr><tr><td align="left">settings.gradle</td><td align="left">Sets gradle projects. Do not edit.</td></tr><tr><td align="left">project.xml</td><td align="left">Configures which data parsers are run during your build.</td></tr></tbody></table><p>There is also a gradle directory (<code>/gradle</code>) and executables (<code>gradlew, gradle.bat</code>).</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="projectxml"></a>Project.xml<a class="hash-link" href="#projectxml" title="Direct link to heading">#</a></h3><p>The <code>project.xml</code>allows you to configure which data to load into your Mine. The file has two sections: sources and post-processing.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="sources"></a>&lt;sources&gt;<a class="hash-link" href="#sources" title="Direct link to heading">#</a></h4><p>The <code>&lt;source&gt;</code> elements list and configure the data sources to be loaded. A source can have a name and a type.</p><p><code>type</code></p><p>Corresponds to the name of the bio-source artifact (jar) which includes parsers to retrieve data and information on how it will be integrated.</p><p><code>name</code></p><p>Can be anything and can be the same as <code>type</code>. Using a more specific name allows you to define specific integration keys.</p><p><code>&lt;source&gt;</code> elements can have several properties depending on source type. <code>src.data.dir</code> ,<code>src.data.file</code>and <code>src.data.includes</code> are all used to define locations of files that the source should load. Other properties are used as parameters to specific parsers.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="post-processing"></a>&lt;post-processing&gt;<a class="hash-link" href="#post-processing" title="Direct link to heading">#</a></h4><p>Specific operations can be performed on the Mine once data is loaded, these are listed here as <code>&lt;post-process&gt;</code> elements. We will look at these in more detail later.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="data-to-load"></a>Data to load<a class="hash-link" href="#data-to-load" title="Direct link to heading">#</a></h3><p>The biotestmine git repository includes a tar file with data to load into BiotestMine. These are real, complete data sets for <em>P. falciparum</em> (but very old!).</p><p>We will load genome annotation from PlasmoDB, protein data from UniProt and GO annotation also from PlasmoDB.</p><p>See <a href="/im-docs/docs/next/get-started/tutorial/test-data">Data files to integrate</a> for details on the data.</p><p>Copy this to a local directory (your home directory is fine for this workshop) and extract the archive:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-text codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ cd</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ cp git/biotestmine/data/malaria-data.tar.gz .</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ tar -zxvf malaria-data.tar.gz</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>A dummy project XML file is available in the <code>/data/</code> directory. Copy it into your <code>biotestmine</code> directory, then edit <code>project.xml</code> to point each source at the extracted data, just replace <code>/data</code> with <code>/home/username</code> (or on a mac, <code>/Users/username</code>). Do use the absolute path.</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-text codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ cd ~/git/biotestmine</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ cp ~/git/biotestmine/data/project.xml .</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">~/git/biotestmine $ sed -i &#x27;s/\DATA\_DIR/\/home\/username/g&#x27; project.xml</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>For example, the<code>uniprot-malaria</code> source:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-markup codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">sources</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">source</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">name</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">uniprot-malaria</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">type</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">uniprot</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">property</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">name</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">uniprot.organisms</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">value</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">36329</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">/&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">property</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">name</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">src.data.dir</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">location</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">/home/username/malaria/uniprot/</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">/&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">source</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  ...</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p><strong>Note</strong>
All file locations must be absolute not relative paths.</p><p> The <code>project.xml</code> file is now ready to use.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="properties-file"></a>Properties file<a class="hash-link" href="#properties-file" title="Direct link to heading">#</a></h3><p>Configuration of local databases and tomcat deployment is kept in a <code>MINE_NAME.properties</code> file in a <code>.intermine</code> directory under your home directory. We need to set up a <code>biotestmine.properties</code> file.</p><p>If you don&#x27;t already have a <code>.intermine</code> directory in your home directory, create one now:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-text codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ cd</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ mkdir .intermine</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>There is a partially completed properties file for BioTestMine already. Copy it into your <code>.intermine</code> directory:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-text codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ cd</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ cp git/biotestmine/data/biotestmine.properties .intermine/</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>Update this properties file with your postgres server location, username and password information for the two databases you just created. The rest of the information is needed for the webapp and will be updated later.</p><p>For the moment you need to change <code>PSQL_USER</code> and <code>PSQL_PWD</code> in the <code>db.production</code> and <code>db.common-tgt-items</code> properties.</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-text codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"># Access to the postgres database to build into and access from the webapp                              </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">db.production.datasource.serverName=localhost</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"># port: uncomment the next line if use different port other than 5432</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"># db.production.datasource.port=PORT_NUMBER</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">db.production.datasource.databaseName=biotestmine</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">db.production.datasource.user=PSQL_USER</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">db.production.datasource.password=PSQL_PWD</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>If you don&#x27;t have a password for your postgres account you can leave <code>password</code> blank.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="create-databases"></a>Create databases<a class="hash-link" href="#create-databases" title="Direct link to heading">#</a></h3><p>Finally, we need to create <code>biotestmine</code> and <code>items-biotestmine</code> postgres databases as specified in the <code>biotestmine.properties</code> file:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-text codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ createdb biotestmine</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ createdb items-biotestmine</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>New postgres databases default to <code>UTF-8</code> as the character encoding. This will work with InterMine but performance is better with <code>SQL_ASCII</code>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="the-data-model"></a>The Data Model<a class="hash-link" href="#the-data-model" title="Direct link to heading">#</a></h2><p>Now we&#x27;re ready to set up a database schema and load some data into our BioTestMine. First, some information on how data models are defined in InterMine.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="defining-the-model"></a>Defining the model<a class="hash-link" href="#defining-the-model" title="Direct link to heading">#</a></h3><p>InterMine uses an object-oriented data model. Classes in the model and relationships between them are defined in an XML file. Depending on which data types you include, you will need different classes and fields in the model, so the model is generated from a core model XML file and any number of <code>additions</code> files. These additions files can define extra classes and fields to be added to the model.</p><ul><li><p>Elements of the model are represented by Java classes and references</p><p>between them.</p></li><li><p>These Java classes map automatically to tables in the database</p><p>schema.</p></li><li><p>The object model is defined as an XML file, that defines</p><p><code>classes</code>, their <code>attributes</code> and<code>references</code> between classes.</p></li><li><p>The Java classes and database schema are automatically generated</p><p>from an XML file.</p></li></ul><p>The model is generated from a core model XML file and any number of additions files defined in the <a href="https://github.com/intermine/biotestmine/blob/master/dbmodel/build.gradle#L37" target="_blank" rel="noopener noreferrer">dbmodel/build.gradle</a> file.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="corexml"></a>core.xml<a class="hash-link" href="#corexml" title="Direct link to heading">#</a></h4><p>The core InterMine data model is defined in <a href="https://github.com/intermine/intermine/blob/master/bio/model/core.xml" target="_blank" rel="noopener noreferrer">core.xml</a> file.</p><p>Note the fields defined for <code>Protein</code>:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-markup codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">class</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">name</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">Protein</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">extends</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">BioEntity</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">is-interface</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">true</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">attribute</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">name</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">md5checksum</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">type</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">java.lang.String</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">/&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">attribute</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">name</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">primaryAccession</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">type</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">java.lang.String</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">/&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">attribute</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">name</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">length</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">type</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">java.lang.Integer</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">/&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">attribute</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">name</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">molecularWeight</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">type</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">java.lang.Double</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">/&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">reference</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">name</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">sequence</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">referenced-type</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">Sequence</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">/&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">collection</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">name</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">genes</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">referenced-type</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">Gene</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">reverse-reference</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">proteins</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">/&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">class</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>Protein is a subclass of <code>BioEntity</code>, defined by <code>extends=&quot;BioEntity&quot;</code>. The <code>Protein</code> class will therefore also inherit all fields of <code>BioEntity</code>.</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-markup codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">class</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">name</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">BioEntity</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">is-interface</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">true</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">attribute</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">name</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">primaryIdentifier</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">type</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">java.lang.String</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">/&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">attribute</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">name</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">secondaryIdentifier</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">type</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">java.lang.String</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">/&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">...</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="sequence-ontology"></a>Sequence Ontology<a class="hash-link" href="#sequence-ontology" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-text codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">mineDBModelConfig {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  modelName = &quot;genomic&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  extraModelsStart = &quot;so_additions.xml genomic_additions.xml&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  extraModelsEnd = &quot;&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>The first file merged into the core model is the <code>so_additions.xml</code> file. This XML file is generated in the <code>dbmodel/build</code> directory from terms listed in the <code>so_terms</code> file, as configured in the <a href="https://github.com/intermine/biotestmine/blob/master/dbmodel/build.gradle#L31" target="_blank" rel="noopener noreferrer">dbmodel/build.gradle</a> file.</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-text codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">dbModelConfig {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  soTermListFilePath = &quot;dbmodel/resources/so_terms&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  soAdditionFilePath = &quot;dbmodel/build/so_additions.xml&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>The build system creates classes corresponding to the Sequence Ontology terms.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="additions-files"></a>Additions files<a class="hash-link" href="#additions-files" title="Direct link to heading">#</a></h4><p>The model is then combined with any extra classes and fields defined in the sources to integrate, i.e. those listed as <code>&lt;source&gt;</code> elements in <code>project.xml</code>. Look at the <a href="https://github.com/intermine/intermine/blob/master/bio/sources/uniprot/src/main/resources/uniprot_additions.xml" target="_blank" rel="noopener noreferrer">additions file</a> for the UniProt source, for example. This defines extra fields for the <code>Protein</code> class which will be added to those from the core model.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="creating-a-database"></a>Creating a database<a class="hash-link" href="#creating-a-database" title="Direct link to heading">#</a></h3><p>Now run the gradle task to merge all the model components, generate Java classes and create the database schema:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-text codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"># creates the empty database tables</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">~/git/biotestmine $ ./gradlew buildDB</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>The clean task is necessary when you have run the task before, it removes the <code>build</code> directory and any previously generated models.</p><p>This task has done several things:</p><ol><li><p>Merged the core model with other model additions and created a new</p><p>XML file:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-text codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">~/git/biotestmine $ less dbmodel/build/resources/main/genomic_model.xml</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>Looking through the <code>Protein</code> class, you can see it combines fields from the core model and the UniProt additions file.</p></li><li><p>The <code>so_additions.xml</code> file has also been created using</p><p>the sequence ontology terms in <code>so_term</code>:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-text codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">~/git/biotestmine $ less dbmodel/build/so_additions.xml</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>Each term from <code>so_term</code> was added to the model, according to the sequence ontology.</p></li><li><p>Generated and compiled a Java class for each of the <code>&lt;class&gt;</code>elements in the file. For example <code>Protein.java</code>:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-text codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">~/git/biotestmine $ less dbmodel/build/gen/org/intermine/model/bio/Protein.java</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>Each of the fields has appropriate getters and setters generated for it. Note that these are <code>interfaces</code> and are turned into actual classes dynamically at runtime - this is how the model copes with multiple inheritance.</p></li><li><p>Automatically created database tables in the postgres database specified in <code>biotestmine.properties</code> as <code>db.production</code> - in our case <code>biotestmine</code>.</p><p>Log into this database and list the tables and the columns in the</p><p>protein table:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-text codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ psql biotestmine</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">biotestmine=#  \d</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">biotestmine=#  \d protein</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div></li></ol><p>The different elements of the model XML file are handled as follows:</p><p><code>attributes</code></p><p>There is one column for each attribute of <code>Protein</code> - e.g. <code>primaryIdentifer</code> and <code>length</code>.</p><p><code>references</code></p><p>References to other classes are foreign keys to another table - e.g. <code>Protein</code> has a reference called <code>organism</code> to the <code>Organism</code> class so in the database the <code>protein</code> table has a column <code>organismid</code> which would contain an id that appears in the <code>organism</code> table.</p><p><code>collections</code></p><p>Indirection tables are created for many-to-many collections - e.g. <code>Protein</code>has a collection of <code>Gene</code>objects so an indirection table called <code>genesproteins</code> is created.</p><p>This has also created necessary indexes on the tables:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-text codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">biotestmine=#  \d genesproteins</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p><strong>Warning</strong>
Running <code>buildDB</code> will destroy any existing data loaded in the biotestmine database and re-create all the tables.</p><p>The model XML file is stored in the database once created. This and some other configuration files are held in the <code>intermine_metadata</code>table which has <code>key</code> and <code>value</code> columns:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-text codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">biotestmine=# select key from intermine_metadata;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="loading-data"></a>Loading Data<a class="hash-link" href="#loading-data" title="Direct link to heading">#</a></h2><p>Now, we have the correct data model and the correct empty tables in the database. We can now run several data parsers to load our data into our database.</p><p>For this tutorial, we will run several data integration and post-processing steps manually. This is a good way to learn how the system works and to test individual stages. For running actual builds there is a <code>project_build</code> script that will run all steps specified in <code>project.xml</code> automatically. We will cover this later.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="loading-data-from-a-source"></a>Loading data from a source<a class="hash-link" href="#loading-data-from-a-source" title="Direct link to heading">#</a></h3><p>Loading of data is done by running the <code>integrate</code> gradle task.</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-text codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"># load the uniprot data source</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">~/git/biotestmine $ ./gradlew integrate -Psource=uniprot-malaria --stacktrace</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><table><thead><tr><th align="left"></th><th align="left">purpose</th></tr></thead><tbody><tr><td align="left">./gradlew</td><td align="left">Use the provided gradle wrapper so that we can be sure everyone is using the same version.</td></tr><tr><td align="left">integrate</td><td align="left">Gradle task to run the specified data source</td></tr><tr><td align="left">-Psource=</td><td align="left">Data source to run. Source name should match the value in your project XML file</td></tr><tr><td align="left">-stacktrace</td><td align="left">The â€“stacktrace option will display complete error messages if there is a problem.</td></tr></tbody></table><p>This will take a couple of minutes to complete, the command runs the following steps:</p><ol><li><p>Checks that a source with name <code>uniprot-malaria</code> exists</p><p>in <code>project.xml</code>.</p></li><li><p>Reads the UniProt XML files at the location specified by</p><p><code>src.data.dir</code> in the <code>project.xml</code> file.</p></li><li><p>Runs the parser included in the UniProt JAR. The JARs for every core</p><p>InterMine data source are published in <a href="https://repo1.maven.org/maven2/org/intermine" target="_blank" rel="noopener noreferrer">Maven Central</a>. The build</p><p>looks for jar with the name matching &quot;bio-source-&lt;source-type&gt;-&lt;version&gt;.jar&quot;, e.g. <code>bio-source-uniprot-2.0.0.jar</code>. Maven will automatically download the correct JARs for you.</p></li><li><p>The UniProt data parser reads the original XML and creates <code>Items</code>.</p><p>which are metadata representations of the objects that will be loaded into the biotestmine database. These items are stored in an intermediate <code>items</code> database (more about <code>Items</code> later).</p></li><li><p>Reads from the <code>items</code> database, converts items to objects and loads them into the biotestmine database.</p></li></ol><p>This should be completed after a couple of minutes. Now that the data has loaded, log into the database and view the contents of the protein table:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-text codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ psql biotestmine</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">biotestmine#  select count(*) from protein;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>And see the first few rows of the data:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-text codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">biotestmine#  select * from protein limit 5;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="object-relational-mapping"></a>Object relational mapping<a class="hash-link" href="#object-relational-mapping" title="Direct link to heading">#</a></h3><p>InterMine works with objects. Objects are loaded into the production system and queries return lists of objects. These objects are persisted to a relational database. Internal InterMine code (the ObjectStore) handles the storage and retrieval of objects from the database automatically. By using an object model, InterMine queries benefit from inheritance, for example, the <code>Gene</code>and <code>Exon</code>classes are both subclasses of <code>SequenceFeature</code>. When querying for SequenceFeatures (representing any genome feature) both Genes and Exons will be returned automatically.</p><p>We can see how inheritance is represented in the database:</p><ul><li><p>One table is created for each class in the data model.</p></li><li><p>Where one class inherits from another, entries are written to both</p><p>tables. For example:</p></li></ul><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-text codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">biotestmine#  select * from gene limit 5;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>The same rows appear in the <code>sequencefeature</code> table:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-text codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">biotestmine#  select * from sequencefeature limit 5;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>All classes in the object model inherit from <code>InterMineObject</code>. Querying the <code>intermineobject</code> table in the database is a useful way to find the total number of objects in a Mine:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-text codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">biotestmine#  select count(*) from intermineobject;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>All tables include an <code>id</code> column for unique ids and a <code>class</code> column with the actual class of that object. Querying the <code>class</code> column of <code>intermineobject</code>, you can find the counts of different objects in a Mine:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-text codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">biotestmine#  select class, count(*) from intermineobject group by class;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>A technical detail: for speed when retrieving objects and to deal with inheritance correctly (e.g. to ensure a <code>Gene</code> object with all of its fields is returned even if the query was on the <code>SequenceFeature</code> class), a serialised copy of each object is stored in the <code>intermineobject</code> table. When queries are run by the ObjectStore, they actually return the ids of objects - these objects may already be in a cache, if not, the are retrieved from the <code>intermineobject</code> table.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="loading-genome-data-from-gff3-and-fasta"></a>Loading Genome Data from GFF3 and FASTA<a class="hash-link" href="#loading-genome-data-from-gff3-and-fasta" title="Direct link to heading">#</a></h2><p>We will load genome annotation data for <em>P. falciparum</em> from PlasmoDB</p><ul><li>genes, mRNAs, exons and their chromosome locations - in GFF3 format</li><li>chromosome sequences - in FASTA format</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="data-integration"></a>Data integration<a class="hash-link" href="#data-integration" title="Direct link to heading">#</a></h3><p>Note that genes from the GFF3 file will have the same <code>primaryIdentifier</code> as those already loaded from UniProt. These will merge in the database such that there is only one copy of each gene with information from both data sources. We will load the genome data and then look at how data integration in InterMine works.</p><p>First, look at the information currently loaded for gene <code>PFL1385c</code> from UniProt:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-sql codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">biotestmine</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#  select * from gene where primaryIdentifier = &#x27;PFL1385c&#x27;;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="gff3-files"></a>GFF3 files<a class="hash-link" href="#gff3-files" title="Direct link to heading">#</a></h3><p><a href="https://github.com/The-Sequence-Ontology/Specifications/blob/master/gff3.md" target="_blank" rel="noopener noreferrer">GFF3</a> is a standard format used to represent genome features and their locations. Each line represents one feature and has nine tab-delimited columns as shown below:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-text codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">MAL1    ApiDB   gene    183057  184457  .       -       .       ID=gene.46311;description=hypothetical%20protein;Name=PFA0210c</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">MAL1    ApiDB   mRNA    183057  184457  .       +       .       ID=mRNA.46312;Parent=gene.46311</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">MAL1    ApiDB   exon    183057  184457  .       -       0       ID=exon.46313;Parent=mRNA.46312</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p><strong>col 1: &quot;seqid&quot;</strong></p><p>an identifier for a &#x27;landmark&#x27; on which the current feature is locatated, in this case &#x27;MAL1&#x27;, a &#x27;&#x27;P. falciparum&#x27;&#x27; chromosome.</p><p><strong>col 2: &quot;source&quot;</strong></p><p>the database or algorithm that provided the feature</p><p><strong>col 3: &quot;type&quot;</strong></p><p>a valid Sequence Ontology term defining the feature type - here <code>gene</code>or <code>mRNA</code></p><p><strong>col 4 &amp; 5: &quot;start&quot; and &quot;end&quot;</strong></p><p>coordinates of the feature on the landmark in col 1</p><p><strong>col 6: &quot;score&quot;</strong></p><p>an optional score, used if the feature has been generated by an algorithm</p><p><strong>col 7: &quot;strand&quot;</strong></p><p>&#x27;+&#x27; or &#x27;-&#x27; to indicate the strand the feature is on</p><p><strong>col 8: &quot;phase&quot;</strong></p><p>for <code>CDS</code> features to show where the feature begins with reference to the reading frame</p><p><strong>col 9: &quot;attributes&quot;</strong></p><p>custom attributes to describe the feature. These are name/value pairs separated by &#x27;;&#x27;. Some attributes have predefined meanings, relevant here:</p><ul><li><code>ID</code> - identifier of feature, unique in scope of the GFF3 file</li><li><code>Name</code>- a display name for the feature</li><li><code>Parent</code> - the <code>ID</code> of another feature in the file that is a parent of this one. In our example the <code>gene</code> is a <code>Parent</code> of the <code>mRNA</code>.</li></ul><p>A dot means there is no value provided for the column.</p><p>The files we are loading are from PlasmoDB and contain <code>gene</code>, <code>exon</code> and <code>mRNA</code> features. There is one file per chromosome. Look at an example:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-text codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ less /data/malaria/genome/gff/MAL1.gff3</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="the-gff3-source"></a>The GFF3 source<a class="hash-link" href="#the-gff3-source" title="Direct link to heading">#</a></h3><p>InterMine includes a parser to load valid GFF3 files. The creation of features, sequence features, locations and standard attributes is taken care of automatically.</p><p>Other <code>gff3</code> properties can be configured in the <code>project.xml</code>. The properties set for <code>malaria-gff</code> are:</p><p><strong>gff3.seqClsName = Chromosome</strong></p><p>the ids in the first column represent <code>Chromosome</code> objects, e.g. MAL1</p><p><strong>gff3.taxonId = 36329</strong></p><p>taxon id of malaria</p><p><strong>gff3.dataSourceName = PlasmoDB</strong></p><p>the data source for features and their identifiers. This is used for the DataSet (evidence) and synonyms.</p><p><strong>gff3.seqDataSourceName = PlasmoDB</strong></p><p>the source of the seqids (chromosomes) is sometimes different to the features described</p><p><strong>gff3.dataSetTitle = PlasmoDB P. falciparum genome</strong></p><p>a DataSet object is created as evidence for the features, it is linked to a DataSource (PlasmoDB)</p><p>You can also configure GFF properties in the gff.config file. See <a href="/im-docs/docs/next/database/data-sources/library/gff">GFF3</a> for details.</p><p>To deal with any specific attributes or perform custom operations on each feature, you can write a handler in Java which will get called when reading each line of GFF. For malaria gff, we need a handler to switch which fields from the file are set as <code>primaryIdentifier</code> and <code>symbol</code>/<code>secondaryIdentifier</code> in the features created. This is to match the identifiers from UniProt, it is quite a common issue when integrating from multiple data sources.</p><p>From the example above, by default: <code>ID=gene.46311;description=hypothetical%20protein;Name=PFA0210c</code> would make <code>Gene.primaryIdentifier</code> be <code>gene.46311</code> and <code>Gene.symbol</code> be <code>PFA0210c</code>. We need <code>PFA0210c</code> to be the <code>primaryIdentifier</code>.</p><p>Look at the <code>malaria-gff.properties</code> file - there are two properties of interest:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-text codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"># set the source type to be gff</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">have.file.gff=true</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"># specify a Java class to be called on each row of the gff file to cope with attributes</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">gff3.handlerClassName = org.intermine.bio.dataconversion.MalariaGFF3RecordHandler</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>The property file has specified a Java class to process the GFF file, <a href="https://github.com/intermine/intermine/blob/master/bio/sources/example-sources/malaria-gff/src/main/java/org/intermine/bio/dataconversion/MalariaGFF3RecordHandler.java" target="_blank" rel="noopener noreferrer">MalariaGFF3RecordHandler</a>. This code changes which fields the <code>ID</code> and <code>Name</code> attributes from the GFF file have been assigned to.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="loading-gff3-data"></a>Loading GFF3 data<a class="hash-link" href="#loading-gff3-data" title="Direct link to heading">#</a></h3><p>Now execute the <code>malaria-gff</code> source by running this command:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-text codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"># load the GFF data</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">~/git/biotestmine $ ./gradlew integrate -Psource=malaria-gff --stacktrace</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>This will take a few minutes to run. Note that this time, we don&#x27;t run <code>buildDB</code> since we are loading this data into the same database as UniProt. As before, you can run a query to see how many objects of each class are loaded:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-text codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ psql biotestmine</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">biotestmine#  select class, count(*) from intermineobject group by class;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="fasta-files"></a>FASTA files<a class="hash-link" href="#fasta-files" title="Direct link to heading">#</a></h3><p>FASTA is a minimal format for representing sequence data. Files comprise a header with some identifier information preceded by &#x27;&gt;&#x27; and a sequence. At present, the InterMine FASTA parser loads just the first entry in header after <code>&gt;</code> and assigns it to be an attribute of the feature created. Here we will load one FASTA file for each malaria chromosome. Look at an example of the files we will load:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-text codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ less /data/malaria/genome/fasta/MAL1.fasta</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>The type of feature created is defined by a property in <code>project.xml</code>, the attribute set defaults to <code>primaryIdentifier</code>, but can be changed with the <code>fasta.classAttribute</code> property. The following properties are defined in <code>project.xml</code> for <code>malaria-chromosome-fasta</code>:</p><p><strong><code>fasta.className = org.intermine.model.bio.Chromosome</code></strong></p><p>the type of feature that each sequence is for</p><p><strong><code>fasta.dataSourceName = PlasmoDB</code></strong></p><p>the source of identifiers to be created</p><p><strong><code>fasta.dataSetTitle = PlasmoDB chromosome sequence</code></strong></p><p>a DataSet object is created as evidence</p><p><strong><code>fasta.taxonId = 36329</code></strong></p><p>the organism id for malaria</p><p><strong><code>fasta.includes = MAL*.fasta</code></strong></p><p>files to process</p><p>This will create features of the class <code>Chromosome</code> with <code>primaryIdentifier</code> set and the <code>Chromosome.sequence</code> reference set to a <code>Sequence</code> object. Also created are a <code>DataSet</code> and <code>DataSource</code> as evidence.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="loading-fasta-data"></a>Loading FASTA data<a class="hash-link" href="#loading-fasta-data" title="Direct link to heading">#</a></h3><p>Now run the <code>malaria-chromosome-fasta</code> source by running this command:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-text codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"># load FASTA data</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">~/git/biotestmine $ ./gradlew integrate -Psource=malaria-chromosome-fasta --stacktrace</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>This has integrated the chromosome objects with those already in the database. In the next step, we will look at how this data integration works.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="data-integration-1"></a>Data Integration<a class="hash-link" href="#data-integration-1" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="data-integration-in-biotestmine"></a>Data integration in BioTestMine<a class="hash-link" href="#data-integration-in-biotestmine" title="Direct link to heading">#</a></h3><p>The sources <code>uniprot-malaria</code> and <code>malaria-gff</code> have both loaded information about the same genes. Before loading genome data, we ran a query to look at the information UniProt provided about the gene &quot;PFL1385c&quot;:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-text codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">biotestmine=# select id, primaryidentifier, secondaryidentifier, symbol, length , chromosomeid, chromosomelocationid, organismid from gene where primaryIdentifier = &#x27;PFL1385c&#x27;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    id    | primaryidentifier | secondaryidentifier | symbol | length | chromosomeid | chromosomelocationid | organismid </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">----------+-------------------+---------------------+--------+--------+--------------+----------------------+------------</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">83000626 | PFL1385c          |                     | ABRA   |        |              |                      |   83000003</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">(1 row)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>Which showed that UniProt provided <code>primaryIdentifier</code> and <code>symbol</code> attributes and set the <code>organism</code> reference. The <code>id</code> was set automatically by the ObjectStore and will be different each time you build your Mine.</p><p>Running the same query after <code>malaria-gff</code> is added shows that more fields have been filled in for same gene and that it has kept the same id:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-text codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">biotestmine=# select id, primaryidentifier, secondaryidentifier, symbol, length , chromosomeid, chromosomelocationid, organismid from gene where primaryIdentifier = &#x27;PFL1385c&#x27;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    id    | primaryidentifier | secondaryidentifier | symbol | length | chromosomeid | chromosomelocationid | organismid </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">----------+-------------------+---------------------+--------+--------+--------------+----------------------+------------</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">83000626 | PFL1385c          | gene.33449          | ABRA   |   2232 |     84017653 |             84018828 |   83000003</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">(1 row)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>This means that when the second source was loaded, the integration code was able to identify that an equivalent gene already existed and merged the values for each source. The equivalence was based on <code>primaryIdentifier</code> as this was the field that the two sources had in common.</p><p>Note that <code>malaria-gff</code> does not include a value for <code>symbol</code> but it did not write over the <code>symbol</code> provided by UniProt. Actual values always take precedence over null values (unless configured otherwise).</p><p>Now look at the organism table:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-text codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">biotestmine=# select * from organism;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">genus | taxonid | species | abbreviation |    id    | shortname | name |               class                </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">-------+---------+---------+--------------+----------+-----------+------+------------------------------------</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      |   36329 |         |              | 83000003 |           |      | org.intermine.model.genomic.Organism</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">(1 row)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>Three sources have been loaded so far that all included the organism with <code>taxonId</code> 36329, and more importantly, they included objects that reference the organism. There is still only one row in the organism table implying that the data from the three sources has merged, in this case <code>taxonId</code> was the field used to define equivalence.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="how-data-integration-works"></a>How data integration works<a class="hash-link" href="#how-data-integration-works" title="Direct link to heading">#</a></h3><p>Data integration works by defining keys for each class of object to describe fields that can be used to define equivalence for objects of that class. For the examples above:</p><ul><li><code>primaryIdentifier</code> was used as a key for <code>Gene</code></li><li><code>taxonId</code> was used as a key for <code>Organism</code></li></ul><p>For each <code>Gene</code> object loaded by <code>malaria-gff</code>, a query was performed in the <code>biotestmine</code> database to find any existing <code>Gene</code> objects with the same <code>primaryIdentifier</code>. If any were found, fields from both objects were merged and the resulting object stored.</p><p>Many performance optimisation steps are applied to this process. We don&#x27;t actually run a query for each object loaded, requests are batched and queries can be avoided completely. If the system can work out, no integration will be needed.</p><p>We may also load data from some other source that provides information about genes but doesn&#x27;t use the identifier scheme we have chosen for <code>primaryIdentifier</code> (in our example <code>PFL1385c</code>). Instead it only knows about the <code>symbol</code> (<code>ABRA</code>), in that case, we would want that source to use the <code>symbol</code> to define equivalence for <code>Gene</code>.</p><p>Important points:</p><ul><li>A <code>key</code> defines a field or fields of a class that can be used to search for equivalent objects.</li><li>Multiple primary keys can be defined for a class. Sources can use different keys for a class if they provide different identifiers</li><li>One source can use multiple primary keys for a class if the objects of that class don&#x27;t consistently have the same identifier type.</li><li><code>null</code> - if a source has no value for a field that is defined as a primary key, then the key is not used and the data is loaded without being integrated.</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="integration-keys-in-biotestmine"></a>Integration Keys in BioTestMine<a class="hash-link" href="#integration-keys-in-biotestmine" title="Direct link to heading">#</a></h3><p>The keys used by each source are set in the source&#x27;s <code>resources</code> directory.</p><ul><li><a href="https://github.com/intermine/intermine/blob/master/bio/sources/uniprot/src/main/resources/uniprot_keys.properties" target="_blank" rel="noopener noreferrer">uniprot-malaria</a></li><li><a href="https://github.com/intermine/intermine/blob/master/bio/sources/example-sources/malaria-gff/src/main/resources/malaria-gff_keys.properties" target="_blank" rel="noopener noreferrer">malaria-gff</a></li></ul><p>The key on <code>Gene.primaryIdentifier</code> is defined in both sources, that means that the same final result would have been achieved regardless of the order in which the two sources were loaded.</p><p>These <code>_keys.properties</code> files define keys in the format:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-text codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">Class.name_of_key = field1, field2</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>The <code>name_of_key</code> can be any string but you must use different names if defining more than one key for the same class, for example in <code>uniprot_keys.properties</code>, there are two different keys defined for <code>Gene</code>:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-text codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">Gene.key_primaryidentifier = primaryIdentifier</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Gene.key_secondaryidentifier = secondaryIdentifier</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>It is better to use common names for identical keys between sources as this will help avoid duplicating database indexes. Each key should list one or more fields that can be a combination of <code>attributes</code> of the class specified or <code>references</code> to other classes, in this case, there should usually be a key defined for the referenced class as well.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="the-tracker-table"></a>The <code>tracker</code> table<a class="hash-link" href="#the-tracker-table" title="Direct link to heading">#</a></h3><p>A special <code>tracker</code> table is created in the target database by the data integration system. This tracks which sources have loaded data for each field of each object. The data is used along with priorities configuration when merging objects but is also useful to view where objects have come from.</p><ul><li>Look at the columns in the tracker table; <code>objectid</code> references an object from some other table</li><li>Query tracker information for the objects in the examples above:</li></ul><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-sql codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">select</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">distinct</span><span class="token plain"> sourcename </span><span class="token keyword" style="font-style:italic">from</span><span class="token plain"> tracker</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> gene </span><span class="token keyword" style="font-style:italic">where</span><span class="token plain"> objectid </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> id </span><span class="token operator" style="color:rgb(137, 221, 255)">and</span><span class="token plain"> primaryidentifier </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;PFL1385c&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">select</span><span class="token plain"> objectid</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> sourcename</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> fieldname</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> version </span><span class="token keyword" style="font-style:italic">from</span><span class="token plain"> tracker</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> gene </span><span class="token keyword" style="font-style:italic">where</span><span class="token plain"> objectid </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> id </span><span class="token operator" style="color:rgb(137, 221, 255)">and</span><span class="token plain"> primaryidentifier </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;PFL1385c&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">select</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">distinct</span><span class="token plain"> sourcename </span><span class="token keyword" style="font-style:italic">from</span><span class="token plain"> tracker</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> organism </span><span class="token keyword" style="font-style:italic">where</span><span class="token plain"> objectid </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> id</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="updating-organism-and-publication-information"></a>Updating Organism and Publication Information<a class="hash-link" href="#updating-organism-and-publication-information" title="Direct link to heading">#</a></h2><p>Organisms and publications in InterMine are loaded by their taxon id and PubMed id respectively. The <code>entrez-organism</code> and <code>update-publications</code> sources can be run at the end of the build to examine the ids loaded, fetch details via the NCBI Entrez web service and add those details to the Mine.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="fetching-organism-details"></a>Fetching organism details<a class="hash-link" href="#fetching-organism-details" title="Direct link to heading">#</a></h3><p>You will have noticed that in previous sources and in <code>project.xml</code>, we have referred to organisms by their NCBI Taxonomy id. These are numerical ids assigned to each species. We use these for convenience in integrating data. The taxon id is a good unique identifier for organisms, whereas names can come in many different formats. For example, in fly data sources we see: <code>Drosophila melanogaster</code>, <code>D. melanogaster</code>, Dmel, DM, etc.</p><p>Looking at the <code>organism</code> table in the database, you will see that the only column filled in is <code>taxonid</code>:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-text codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ psql biotestmine</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">biotestmine#  select * from organism;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>From the root <code>biotestmine</code> directory run the <code>entrez-organism</code> source:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-text codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"># load organism data</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">~/git/biotestmine $ ./gradlew integrate -Psource=entrez-organism --stacktrace</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>This should only take a few seconds. This source does the following:</p><ul><li><p>runs a query in the production database for all of the taxon ids</p></li><li><p>creates an NCBI Entrez web service request to fetch details of those</p><p>organisms</p></li><li><p>converts the data returned from Entrez into a temporary Items XML</p><p>file</p></li><li><p>loads the Items XML file into the production database</p></li></ul><p>Now run the same query in the production database, you should see details for &#x27;&#x27;P. falciparum&#x27;&#x27; added:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-text codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ psql biotestmine</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">biotestmine#  select * from organism;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>As this source depends on organism data previously loaded, it should be one of the last sources run and should appear at the end of <code>&lt;sources&gt;</code> in <code>project.xml</code>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="fetching-publication-details"></a>Fetching publication details<a class="hash-link" href="#fetching-publication-details" title="Direct link to heading">#</a></h3><p>Publications are even more likely to be cited in different formats and are prone to errors in their description. We will often load data referring to the same publication from multiple sources and need to ensure those publications are integrated correctly. Hence, we load only the PubMed id and fetch the details from the NCBI Entrez web service as above.</p><p>Several InterMine sources load publications:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-sql codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">biotestmine</span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#  select count(*) from publication;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">biotestmine</span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#  select * from publication limit 5;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>Now run the <code>update-publications</code> source to fill in the details:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-text codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">~/git/biotestmine $ ./gradlew integrate -Psource=update-publications --stacktrace</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>As there are often large numbers of publications, they are retrieved in batches from the web service.</p><p>Now details will have been added to the <code>publication</code> table:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-text codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">biotestmine#  select * from publication where title is not null limit 5;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>As this source depends on publication data previously loaded, it should be one of the last sources run and should appear at the end of <code>&lt;sources&gt;</code> in <code>project.xml</code>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="post-processing-1"></a>Post Processing<a class="hash-link" href="#post-processing-1" title="Direct link to heading">#</a></h2><p>Post-processing steps are run after all data is loaded, they are specified as <code>&lt;post-process&gt;</code> elements in <code>project.xml</code>.</p><p>Some of these can only be run after data from multiple sources are loaded. For example, for the Malaria genome information, we load features and their locations on chromosomes from <code>malaria-gff</code> but the sequences of chromosomes from <code>malaria-chromosome-fasta</code>. These are loaded independently and the <code>Chromosome</code> objects from each are integrated. Neither of these on their own could set the sequence of each <code>Exon</code>. However, now that they are both loaded, the <code>transfer-sequences</code> post-process can calculate and set the sequences for all features located on a <code>Chromosome</code> for which the sequence is known.</p><p>Some post-process steps are used to homogenize data from different sources or fill in shortcuts in the data model to improve usability - e.g. <code>create-references</code>.</p><p>Finally, there are post-process operations that create summary information to be used by the web application: <code>summarise-objectstore</code>, <code>create-search-index</code> and <code>create-autocomplete-indexes</code>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="biotestmine-post-processing"></a>BioTestMine Post Processing<a class="hash-link" href="#biotestmine-post-processing" title="Direct link to heading">#</a></h3><p>The following <code>&lt;post-process&gt;</code> targets are included in the BioTestMine <code>project.xml</code>.</p><p>Run queries listed here before and after running the post-processing steps to see examples of what each step does.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="create-references"></a><code>create-references</code><a class="hash-link" href="#create-references" title="Direct link to heading">#</a></h4><p>This fills in some shortcut references in the data model to make querying easier. For example, <code>Gene</code> has a collection of <code>transcripts</code> and <code>Transcript</code> has a collection of <code>exons</code>. <code>create-references</code> will follow these collections and create a <code>gene</code> reference in <code>Exon</code> and the corresponding <code>exons</code> collection in <code>Gene</code>.</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-sql codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">biotestmine</span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#  select * from exon limit 5;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>The empty <code>geneid</code> column will be filled in, representing the reference to gene.</p><p>Execute the <code>create-references</code> postprocess by running this command:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-text codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"># execute create-references postprocess</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">~/git/biotestmine $ ./gradlew postprocess -Pprocess=create-references</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="transfer-sequences"></a><code>transfer-sequences</code><a class="hash-link" href="#transfer-sequences" title="Direct link to heading">#</a></h4><p>The sequence for chromosomes is loaded by <code>malaria-chromosome-fasta</code>, but no sequence is set for the features located on them. This step reads the locations of features, calculates and stores their sequence and sets the <code>sequenceid</code> column. The <code>sequenceid</code> column for this exon is empty:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-sql codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">biotestmine</span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># select * from exon where primaryidentifier = &#x27;exon.32017&#x27;;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>Execute the <code>transfer-sequences</code> postprocess by running this command:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-text codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"># execute transfer-sequences postprocess</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">~/git/biotestmine $ ./gradlew postprocess -Pprocess=transfer-sequences</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>After running <code>transfer-sequences</code> the <code>sequenceid</code> column is filled in.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="do-sources"></a><code>do-sources</code><a class="hash-link" href="#do-sources" title="Direct link to heading">#</a></h4><p>Each source can also provide code to execute post-process steps if required. This command loops through all of the sources and checks whether there are any post-processing steps configured. There aren&#x27;t any for the sources we are using for BioTestMine but you should always include the <code>do-sources</code> element.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="summarise-objectstore-create-search-index--create-autocomplete-index"></a><code>summarise-objectstore</code>, <code>create-search-index</code> &amp; <code>create-autocomplete-index</code><a class="hash-link" href="#summarise-objectstore-create-search-index--create-autocomplete-index" title="Direct link to heading">#</a></h4><p>These generate summary data and search indexes used by the web application, see <a href="/im-docs/docs/next/webapp/keyword-search/index">Keyword Search</a> for details.</p><p>Execute the <code>summarise-objectstore</code> postprocess by running this command:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-text codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"># execute transfer-sequences postprocess</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">~/git/biotestmine $ ./gradlew postprocess -Pprocess=summarise-objectstore</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>You must have Solr installed and running for the indexes to be populated correctly.</p><p><strong>Install SOLR</strong></p><p>Download <a href="http://archive.apache.org/dist/lucene/solr/7.2.1/" target="_blank" rel="noopener noreferrer">Solr binary package</a> and extract it to any place you like. Inside <code>/solr-7.2.1</code> directory start the server with this command:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-text codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"># Starts the server instance on port 8983</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">solr-7.2.1 $ ./bin/solr start</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p><strong>Initialising Search Indexes</strong></p><p>To create a Intermine collection for search process, run this command inside the solr directory.</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-text codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"># Initialises the search index</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">solr-7.2.1 $ ./bin/solr create -c biotestmine-search</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>To create a Intermine collection for autocomplete process, run this command inside the solr directory.</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-text codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"># Initaliases the autocomplete index</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">solr-7.2.1 $ ./bin/solr create -c biotestmine-autocomplete</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>These are empty search indexes that will be populated by the <code>create-search-index</code> &amp; <code>create-autocomplete-index</code> postprocesses.</p><p>See <a href="/im-docs/docs/next/system-requirements/software/solr">Solr</a> for details.</p><p>Execute the <code>create-search-index</code> and <code>create-autocomplete-index</code> postprocesses by running these commands:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-text codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"># execute create-search-index and create-autocomplete-index postprocesse</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">~/git/biotestmine $ ./gradlew postprocess -Pprocess=create-search-index</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">~/git/biotestmine $ ./gradlew postprocess -Pprocess=create-autocomplete-index</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="building-a-mine-with-a-perl-script"></a>Building a Mine with a Perl script<a class="hash-link" href="#building-a-mine-with-a-perl-script" title="Direct link to heading">#</a></h2><p>So far, we have created databases, integrated data and run post-processing with individual gradle tasks. Alternatively InterMine has a Perl program called <code>project_build</code> that reads the <code>project.xml</code> definition and runs all of the steps in sequence. The script has the option of creating snapshots during the build at specified checkpoints.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="build-complete-biotestmine"></a>Build complete BioTestMine<a class="hash-link" href="#build-complete-biotestmine" title="Direct link to heading">#</a></h3><p>To build BioTestMine using the <code>project_build</code> script, first download the script:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-text codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"># download the script</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">~/git/biotestmine $ wget https://raw.githubusercontent.com/intermine/intermine-scripts/master/project_build</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"># make executable</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">~/git/biotestmine $ chmod +x project_build</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>Run the <code>project_build</code> script from your <code>biotestmine</code> directory:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-text codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">~/git/biotestmine $ ./project_build -b -v localhost ~/biotestmine-dump</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>This will take ~15-30mins to complete.</p><p><strong>Note</strong>
If you encounter an &quot;OutOfMemoryError&quot;, you should set your $GRADLE_OPTS variable. See <a href="/im-docs/docs/next/support/troubleshooting-tips">Troubleshooting tips</a>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="deploying-the-web-application"></a>Deploying the web application<a class="hash-link" href="#deploying-the-web-application" title="Direct link to heading">#</a></h2><p>You can deploy a web application against your newly built database.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="configure"></a>Configure<a class="hash-link" href="#configure" title="Direct link to heading">#</a></h3><p>In the <code>~/.intermine</code> directory, update the webapp properties in your biotestmine.properties file. Update the following properties:</p><ul><li>tomcat username and password</li><li>superuser username and password</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="userprofile"></a>UserProfile<a class="hash-link" href="#userprofile" title="Direct link to heading">#</a></h3><p>The userprofile database stores all user-related information such as username and password, tags, queries, lists and templates. To build the userprofile database:</p><ol><li><p>Configure</p><p>Update your biotestmine.properties file with correct information for the <code>db.userprofile-production</code> database:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-text codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">db.userprofile-production.datasource.serverName=DB_SERVER</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">db.userprofile-production.datasource.databaseName=userprofile-biotestmine</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">db.userprofile-production.datasource.user=USER_NAME</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">db.userprofile-production.datasource.password=USER_PASSWORD</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div></li><li><p>Create the empty database:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-text codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ createdb userprofile-biotestmine</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div></li><li><p>Build the database:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-text codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"># creates the empty tables</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">~/git/biotestmine $ ./gradlew buildUserDB</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div></li></ol><p>You only need to build the userprofile database once.</p><p><strong>Warning</strong>
The buildDB and buildUserDB commands rebuild the database and thus will delete any data.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="deploying-the-webservices"></a>Deploying the webservices<a class="hash-link" href="#deploying-the-webservices" title="Direct link to heading">#</a></h3><p>Before deploying the biotestmine webservices, you need to configure tomcat. See <a href="/im-docs/docs/next/system-requirements/software/tomcat">Tomcat</a> for configuration details.</p><p>Run the following command to deploy your webapp:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-text codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"># deploy the webapp (tomcat must be running)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">~/git/biotestmine $ ./gradlew cargoDeployRemote</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>If you make changes, redeploy your webapp with this command:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-text codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"># redeploy the webapp (tomcat must be running)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">~/git/biotestmine $ ./gradlew cargoReDeployRemote</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="start-bluegenes"></a>Start BlueGenes<a class="hash-link" href="#start-bluegenes" title="Direct link to heading">#</a></h3><p>BlueGenes is the new user interface. It runs as its own service and utilises the InterMine web service API.</p><p>Run the following command to start BlueGenes:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-text codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">./gradlew blueGenesStart</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><p><strong>This approach is only recommended for trying out the app.</strong> See <a href="/im-docs/docs/next/webapp/bluegenes/index">BlueGenes</a> for deploying to a production environment.</p></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="using-the-webapp"></a>Using the webapp<a class="hash-link" href="#using-the-webapp" title="Direct link to heading">#</a></h3><p>You should be able to access the new user interface BlueGenes from <a href="http://localhost:5000" target="_blank" rel="noopener noreferrer">http://localhost:5000</a>
If you want to use the legacy user interface visit <a href="http://localhost:8080/biotestmine" target="_blank" rel="noopener noreferrer">http://localhost:8080/biotestmine</a>. The path to your webapp is the <code>webapp.path</code> value set in biotestmine.properties.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="next"></a>Next<a class="hash-link" href="#next" title="Direct link to heading">#</a></h4><p>Now that you have a database and a working webapp, you&#x27;ll want to know how to add your own logo, pick a colour scheme, modify how data is displayed etc. In the Web Application section you&#x27;ll find a detailed guide on how to customise all parts of the InterMine web application.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="help"></a>Help<a class="hash-link" href="#help" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="gradle"></a>Gradle<a class="hash-link" href="#gradle" title="Direct link to heading">#</a></h3><p>Anytime you run <code>./gradlew</code> and something bad happens, add the <code>--stacktrace</code> or <code>--debug</code> options.</p><p>This will give you a more detailed output and hopefully a more helpful error message.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="logs"></a>Logs<a class="hash-link" href="#logs" title="Direct link to heading">#</a></h3><p>If the error occurs while you are integrating data, the error message will be in the <code>intermine.log</code> file in the directory you are in.</p><p>If the error occurs while you are browsing your webapp, the error message will be located in the Tomcat logs: <code>$TOMCAT/logs</code>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="contact-us"></a>Contact us!<a class="hash-link" href="#contact-us" title="Direct link to heading">#</a></h3><p>Please <a href="http://intermine.org/contact/" target="_blank" rel="noopener noreferrer">contact us</a> if you run into problems. We have a discord server, twitter and a developer mailing list.</p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/intermine/im-docs/edit/master/docs/get-started/tutorial/index.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2LL7"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/im-docs/docs/next/system-requirements/software/maven"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Maven</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/im-docs/docs/next/get-started/tutorial/webapp"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Tutorial - Configure your InterMine webapp! Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_2xL- thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#getting-started" class="table-of-contents__link">Getting Started</a><ul><li><a href="#software" class="table-of-contents__link">Software</a></li><li><a href="#biotestmine" class="table-of-contents__link">BioTestMine</a></li><li><a href="#get-rid-of-daemons" class="table-of-contents__link">Get rid of daemons</a></li><li><a href="#help-somethings-gone-wrong" class="table-of-contents__link">Help! Something&#39;s gone wrong.</a></li></ul></li><li><a href="#biotest-mine" class="table-of-contents__link">BioTest Mine</a><ul><li><a href="#projectxml" class="table-of-contents__link">Project.xml</a></li><li><a href="#data-to-load" class="table-of-contents__link">Data to load</a></li><li><a href="#properties-file" class="table-of-contents__link">Properties file</a></li><li><a href="#create-databases" class="table-of-contents__link">Create databases</a></li></ul></li><li><a href="#the-data-model" class="table-of-contents__link">The Data Model</a><ul><li><a href="#defining-the-model" class="table-of-contents__link">Defining the model</a></li><li><a href="#creating-a-database" class="table-of-contents__link">Creating a database</a></li></ul></li><li><a href="#loading-data" class="table-of-contents__link">Loading Data</a><ul><li><a href="#loading-data-from-a-source" class="table-of-contents__link">Loading data from a source</a></li><li><a href="#object-relational-mapping" class="table-of-contents__link">Object relational mapping</a></li></ul></li><li><a href="#loading-genome-data-from-gff3-and-fasta" class="table-of-contents__link">Loading Genome Data from GFF3 and FASTA</a><ul><li><a href="#data-integration" class="table-of-contents__link">Data integration</a></li><li><a href="#gff3-files" class="table-of-contents__link">GFF3 files</a></li><li><a href="#the-gff3-source" class="table-of-contents__link">The GFF3 source</a></li><li><a href="#loading-gff3-data" class="table-of-contents__link">Loading GFF3 data</a></li><li><a href="#fasta-files" class="table-of-contents__link">FASTA files</a></li><li><a href="#loading-fasta-data" class="table-of-contents__link">Loading FASTA data</a></li></ul></li><li><a href="#data-integration-1" class="table-of-contents__link">Data Integration</a><ul><li><a href="#data-integration-in-biotestmine" class="table-of-contents__link">Data integration in BioTestMine</a></li><li><a href="#how-data-integration-works" class="table-of-contents__link">How data integration works</a></li><li><a href="#integration-keys-in-biotestmine" class="table-of-contents__link">Integration Keys in BioTestMine</a></li><li><a href="#the-tracker-table" class="table-of-contents__link">The <code>tracker</code> table</a></li></ul></li><li><a href="#updating-organism-and-publication-information" class="table-of-contents__link">Updating Organism and Publication Information</a><ul><li><a href="#fetching-organism-details" class="table-of-contents__link">Fetching organism details</a></li><li><a href="#fetching-publication-details" class="table-of-contents__link">Fetching publication details</a></li></ul></li><li><a href="#post-processing-1" class="table-of-contents__link">Post Processing</a><ul><li><a href="#biotestmine-post-processing" class="table-of-contents__link">BioTestMine Post Processing</a></li></ul></li><li><a href="#building-a-mine-with-a-perl-script" class="table-of-contents__link">Building a Mine with a Perl script</a><ul><li><a href="#build-complete-biotestmine" class="table-of-contents__link">Build complete BioTestMine</a></li></ul></li><li><a href="#deploying-the-web-application" class="table-of-contents__link">Deploying the web application</a><ul><li><a href="#configure" class="table-of-contents__link">Configure</a></li><li><a href="#userprofile" class="table-of-contents__link">UserProfile</a></li><li><a href="#deploying-the-webservices" class="table-of-contents__link">Deploying the webservices</a></li><li><a href="#start-bluegenes" class="table-of-contents__link">Start BlueGenes</a></li><li><a href="#using-the-webapp" class="table-of-contents__link">Using the webapp</a></li></ul></li><li><a href="#help" class="table-of-contents__link">Help</a><ul><li><a href="#gradle" class="table-of-contents__link">Gradle</a></li><li><a href="#logs" class="table-of-contents__link">Logs</a></li><li><a href="#contact-us" class="table-of-contents__link">Contact us!</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/im-docs/docs/get-started/tutorial/index">Tutorial</a></li><li class="footer__item"><a class="footer__link-item" href="/im-docs/docs/get-started/create-your-mine">Create Your Own InterMine</a></li><li class="footer__item"><a class="footer__link-item" href="/im-docs/docs/web-services/index">Web Services</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="http://chat.intermine.org" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord</a></li><li class="footer__item"><a href="https://twitter.com/intermineorg" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a href="https://intermineorg.wordpress.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Blog</a></li><li class="footer__item"><a href="https://github.com/intermine/im-docs" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="/im-docs/docs/next/get-started/tutorial/docs/about/contact-us">Contact us</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2022, University of Cambridge. Built with Docusaurus.</div></div></div></footer></div>
<script src="/im-docs/styles.2173261e.js"></script>
<script src="/im-docs/runtime~main.b5ee42fa.js"></script>
<script src="/im-docs/main.b3319c76.js"></script>
<script src="/im-docs/1.7ae7f33b.js"></script>
<script src="/im-docs/2.802ab312.js"></script>
<script src="/im-docs/477.f25401fb.js"></script>
<script src="/im-docs/478.8c6294ea.js"></script>
<script src="/im-docs/935f2afb.8b9d284a.js"></script>
<script src="/im-docs/17896441.a2cda40a.js"></script>
<script src="/im-docs/488bcb1e.81cead08.js"></script>
</body>
</html>