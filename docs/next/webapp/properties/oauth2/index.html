<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.70">
<link rel="alternate" type="application/rss+xml" href="/im-docs/blog/rss.xml" title="InterMine Server Documentation Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/im-docs/blog/atom.xml" title="InterMine Server Documentation Blog Atom Feed"><title data-react-helmet="true">OAuth2 Settings | InterMine Server Documentation</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="OAuth2 Settings | InterMine Server Documentation"><meta data-react-helmet="true" name="description" content="You can configure your mine to accept delegated authentication from one or more identity resources which are protected by OAuth2 authentication. This involves sending the user to another site, having them sign in there, and being sent back to your InterMine with their credentials."><meta data-react-helmet="true" property="og:description" content="You can configure your mine to accept delegated authentication from one or more identity resources which are protected by OAuth2 authentication. This involves sending the user to another site, having them sign in there, and being sent back to your InterMine with their credentials."><meta data-react-helmet="true" property="og:url" content="http://intermine.org/im-docs/docs/next/webapp/properties/oauth2"><link data-react-helmet="true" rel="shortcut icon" href="/im-docs/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="http://intermine.org/im-docs/docs/next/webapp/properties/oauth2"><link rel="stylesheet" href="/im-docs/styles.d4ccb2aa.css">
<link rel="preload" href="/im-docs/styles.38d79b88.js" as="script">
<link rel="preload" href="/im-docs/runtime~main.22394c85.js" as="script">
<link rel="preload" href="/im-docs/main.ecd68a02.js" as="script">
<link rel="preload" href="/im-docs/1.4ca693d1.js" as="script">
<link rel="preload" href="/im-docs/2.d6165643.js" as="script">
<link rel="preload" href="/im-docs/475.b623fae3.js" as="script">
<link rel="preload" href="/im-docs/476.7098cd3f.js" as="script">
<link rel="preload" href="/im-docs/935f2afb.44febb28.js" as="script">
<link rel="preload" href="/im-docs/17896441.08f6c642.js" as="script">
<link rel="preload" href="/im-docs/57a3e1b0.aa0d8934.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav aria-label="Skip navigation links"><button type="button" tabindex="0" class="skipToContent_11B0">Skip to main content</button></nav><nav class="navbar navbar--fixed-top navbarHideable_17Wu navbarHidden_19ww"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/im-docs/"><img src="/im-docs/img/logo.svg" alt="InterMine Logo" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/im-docs/img/logo.svg" alt="InterMine Logo" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">InterMine Server Documentation</strong></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/im-docs/docs/introduction/index">Docs</a><a href="https://intermineorg.wordpress.com/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Blog</a></div><div class="navbar__items navbar__items--right"><a href="http://intermine.org" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">InterMine</a><a href="https://github.com/intermine/im-docs" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__item navbar__link" href="/im-docs/docs/next/introduction/index">Next</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/im-docs/docs/next/webapp/properties/oauth2">Next</a></li><li><a class="dropdown__link" href="/im-docs/docs/webapp/properties/oauth2">5.0.0</a></li><li><a class="dropdown__link" href="/im-docs/docs/4.0.0/index">4.0.0</a></li><li><a href="https://intermine.readthedocs.io/en/latest/" target="_blank" rel="noopener noreferrer" class="dropdown__link">Legacy Documentation</a></li></ul></div><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2N3Q"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_3NWk">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_3NWk">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input type="search" id="search_input_react" placeholder="Search [Next]" aria-label="Search" class="navbar__search-input search-bar"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/im-docs/"><img src="/im-docs/img/logo.svg" alt="InterMine Logo" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/im-docs/img/logo.svg" alt="InterMine Logo" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">InterMine Server Documentation</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/im-docs/docs/introduction/index">Docs</a></li><li class="menu__list-item"><a href="https://intermineorg.wordpress.com/" target="_blank" rel="noopener noreferrer" class="menu__link">Blog</a></li><li class="menu__list-item"><a href="http://intermine.org" target="_blank" rel="noopener noreferrer" class="menu__link">InterMine</a></li><li class="menu__list-item"><a href="https://github.com/intermine/im-docs" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li><li class="menu__list-item"><a role="button" class="menu__link menu__link--sublist">Versions</a><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active" href="/im-docs/docs/next/webapp/properties/oauth2">Next</a></li><li class="menu__list-item"><a class="menu__link" href="/im-docs/docs/webapp/properties/oauth2">5.0.0</a></li><li class="menu__list-item"><a class="menu__link" href="/im-docs/docs/4.0.0/index">4.0.0</a></li><li class="menu__list-item"><a href="https://intermine.readthedocs.io/en/latest/" target="_blank" rel="noopener noreferrer" class="menu__link">Legacy Documentation</a></li></ul></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_vMrn"><div class="docSidebarContainer_3Ak5" role="complementary"><div class="sidebar_3gvy sidebarWithHideableNavbar_CROi"><a tabindex="-1" class="sidebarLogo_xFc8" href="/im-docs/"><img src="/im-docs/img/logo.svg" alt="InterMine Logo" class="themedImage_YANc themedImage--light_3CMI"><img src="/im-docs/img/logo.svg" alt="InterMine Logo" class="themedImage_YANc themedImage--dark_3ARp"><strong>InterMine Server Documentation</strong></a><div class="menu menu--responsive thin-scrollbar menu_1yIk"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_1CUI" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Introduction</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/introduction/index">InterMine</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/introduction/features">Features</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/introduction/architecture">Architecture</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">System Requirements</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/system-requirements/hardware/index">Hardware</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Software</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/system-requirements/software/index">Requirements</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/system-requirements/software/git">Git</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/system-requirements/software/java">Java</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/system-requirements/software/perl">Perl</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">PostgreSQL</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/system-requirements/software/postgres/postgres">Installing PostgreSQL</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/system-requirements/software/postgres/hikari">HikariCP and InterMine settings</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/system-requirements/software/tomcat">Tomcat</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/system-requirements/software/macs">Mac Installation Notes</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/system-requirements/software/solr">Solr</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Gradle</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/system-requirements/software/gradle/index">Gradle - Quick Start</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/system-requirements/software/gradle/faqs">Gradle - FAQs</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/system-requirements/software/intellij">Intellij</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/system-requirements/software/maven">Maven</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Get started</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/get-started/tutorial/index">Tutorial</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/get-started/tutorial/webapp">Tutorial - Configure your InterMine webapp!</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/get-started/tutorial/test-data">Data files to integrate</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/get-started/quick-start">Quick Start</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/get-started/create-your-mine">Create Your Own InterMine!</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/get-started/testmine">Testmine</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/get-started/intermine-tests">InterMine Tests</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">InterMine</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/intermine/intermine">InterMine JARs</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/intermine/upgrade">Upgrading InterMine</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/intermine/roadmap">InterMine Development Roadmap</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/intermine/intermine-versions">InterMine Versioning Policy</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/intermine/javadoc/index">Building Javadoc</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/intermine/get-involved">Contribution Guide</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/intermine/amazon">How to set up your InterMine environment on the Amazon Cloud</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Data Model</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/data-model/overview">Data Model Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/data-model/model">Model Description</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/data-model/data-labels">Using Class and Field Labels</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/api/pathquery">The PathQuery API</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/data-model/overlaps">Querying over genomic ranges</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/data-model/model-ontologies">Decorating your model with ontologies</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Database</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/database/download-scripts">Data Download Scripts</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Data Sources</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Data Source Library</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/database/data-sources/library/index">Data Source Library Overview</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Gene Ontology</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/database/data-sources/library/go/go-annotation">GO Annotation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/database/data-sources/library/go/go-obo">GO OBO</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Homologue Data Sources</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/database/data-sources/library/homologues/index">Homologue Data Sources Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/database/data-sources/library/homologues/treefam">Treefam</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/database/data-sources/library/homologues/homologene">Homologene</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/database/data-sources/library/homologues/orthodb">OrthoDB</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/database/data-sources/library/homologues/panther">Panther</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/database/data-sources/library/homologues/compara">Ensembl Compara</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Interactions</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/database/data-sources/library/interactions/biogrid">BioGRID</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/database/data-sources/library/interactions/intact">IntAct</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/database/data-sources/library/interactions/intact-complexes">IntAct - complexes</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/database/data-sources/library/interactions/psi-mi-ontology">PSI-MI Ontology</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Pathway data sources</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/database/data-sources/library/pathways/kegg">KEGG</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/database/data-sources/library/pathways/reactome">Reactome</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Proteins</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/database/data-sources/library/proteins/uniprot">UniProt</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/database/data-sources/library/proteins/interpro">InterPro</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Publications</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/database/data-sources/library/publications/pubmed">PubMed</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/database/data-sources/library/publications/publications">Publications</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/database/data-sources/library/ncbi-gene">NCBI - Entrez gene</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/database/data-sources/library/chado">Chado</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/database/data-sources/library/fasta">FASTA</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/database/data-sources/library/gff">GFF3</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/database/data-sources/library/identifiers/index">Identifier Data Sources</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/database/data-sources/library/intermine-items-xml">InterMine Items XML</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/database/data-sources/library/omim">OMIM</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/database/data-sources/library/organism">Organisms</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/database/data-sources/library/so">Sequence Ontology (SO)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/database/data-sources/library/uberon">Uberon</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/database/data-sources/library/data-sources">Data Sources</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/database/data-sources/library/data-sets">Data Sets</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/database/data-sources/library/variation/vcf">VCF files</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/database/data-sources/custom/index">Writing your own data source</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">InterMine Items XML</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/database/data-sources/apis/index">InterMine Items XML Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/database/data-sources/apis/java-items-api">Java Items API</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/database/data-sources/apis/perl-items-api">Perl Items API</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/database/data-sources/apis/python-items-api">Python Items API</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/database/data-sources/id-resolvers">Id Resolvers</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/database/data-sources/data-licences">Data Licences</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Database Building</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/database/database-building/index">Database Build</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/database/database-building/build-script">project_build script</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/database/database-building/project-xml">Project XML</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/database/database-building/data-integration">Data Integration</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/database/database-building/model-merging">Model Merging</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/database/database-building/primary-keys">Primary Keys</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/database/database-building/priority-config">Priority Configuration</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/database/database-building/post-processing/index">Post processing</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/database/database-building/post-build-updating-with-sql-triggers">Post build updating with SQL triggers</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/database/database-building/debugging">Debugging</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Data Integrity Checks</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/database/data-integrity-checks/template-comparison">Template Comparison</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/database/data-integrity-checks/acceptance-tests">Acceptance Tests</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">InterMine performance</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/database/performance/data-loading">Data loading performance</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/database/performance/precomputing">Query performance (precomputed tables)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/database/performance/configuration">Useful ObjectStore properties</a></li></ul></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Web Application</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/im-docs/docs/next/webapp/blue-genes/index">Guide to Customising BlueGenes</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/im-docs/docs/next/webapp/homepage/index">Home page</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Report Page</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/webapp/report-page/permanentURL">Permanent URLs</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Lists</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/webapp/lists/lists-page">Lists page</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/webapp/lists/list-upload">List upload</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/webapp/lists/list-upgrade">List upgrade</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">List widgets</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/webapp/lists/list-widgets/index">List widgets overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/webapp/lists/list-widgets/embedding">Embedding widgets on a HTML page</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/webapp/lists/list-widgets/enrichment-widgets">List enrichment widgets statistics</a></li></ul></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/im-docs/docs/next/webapp/template-queries/index">Template Queries</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/im-docs/docs/next/webapp/query-results/index">Query Results</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/im-docs/docs/next/webapp/query-builder/index">QueryBuilder</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/im-docs/docs/next/webapp/keyword-search/index">Keyword Search</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/im-docs/docs/next/webapp/layout/index">General Layout</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!" tabindex="0">Customise Web Application</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/im-docs/docs/next/webapp/properties/web-properties">Features</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/im-docs/docs/next/webapp/properties/oauth2">OAuth2 Settings</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/im-docs/docs/next/webapp/properties/webconfig-model">Data and Widget Configuration</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/im-docs/docs/next/webapp/properties/class-keys">Class keys</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/im-docs/docs/next/webapp/markup/index">Web pages markup</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/im-docs/docs/next/webapp/https">How to set up your InterMine webapp to use https</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/im-docs/docs/next/webapp/jbrowse">JBrowse</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Tool API</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/webapp/tool-api/overview">Tool API Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/webapp/tool-api/tutorial">Tool API Tutorial</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/webapp/tool-api/specification">Tool API Specification</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Monitoring Site Usage</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/webapp/monitoring-site-usage/google-analytics">Google Analytics</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/im-docs/docs/next/webapp/admin/index">Website Admin</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">User Accounts</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/webapp/user-accounts/userprofile">Userprofile</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/im-docs/docs/next/webapp/frictionless/index">Frictionless Specifications for InterMine</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Web Services</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/web-services/index">Web Services Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/web-services/intermine-properties">InterMine Properties</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/web-services/authentication">Authentication</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/web-services/diagnostic">Diagnostic</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/web-services/iodocs">Customising the default queries in your io-docs application</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Support</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/support/mailing-list">Mailing list</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/support/troubleshooting-tips">Troubleshooting tips</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">About Us</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/about/index">InterMine</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/about/contact-us">Contact us</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/im-docs/docs/next/about/privacy-policy">Privacy policy</a></li></ul></li></ul></div></div></div><main class="docMainContainer_2iGs"><div class="container padding-vert--lg docItemWrapper_1bxp"><div class="row"><div class="col docItemCol_U38p"><div class="alert alert--warning margin-bottom--md" role="alert"><div>This is unreleased documentation for InterMine Server Documentation <strong>Next</strong> version.</div><div class="margin-top--md">For up-to-date documentation, see the <strong><a href="/im-docs/docs/webapp/properties/oauth2">latest version</a></strong> (5.0.0).</div></div><div class="docItemContainer_a7m4"><article><div><span class="badge badge--secondary">Version: Next</span></div><header><h1 class="docTitle_Oumm">OAuth2 Settings</h1></header><div class="markdown"><p>You can configure your mine to accept delegated authentication from one or more identity resources which are protected by <a href="http://oauth.net/2/" target="_blank" rel="noopener noreferrer">OAuth2</a> authentication. This involves sending the user to another site, having them sign in there, and being sent back to your InterMine with their credentials.</p><p>We are using the <a href="https://attic.apache.org/projects/oltu.html" target="_blank" rel="noopener noreferrer">Apache OLTU</a> library to help manage the authentication flow. This means that configuring some of the more common providers, such as Google, Facebook, Github and Microsoft is very simple. It also allows us to add any identity provider that meets certain minimum sanity requirements.</p><p><strong>Warning</strong>
Google has closed down their OpenID-2 based authentication solution in favour of OpenID Connect (OAuth2). If you want to use Google as an authentication provider you must use OAuth2.</p><p>Configuration is managed through adding values to the <code>web-properties</code>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="registering-your-application"></a>Registering your Application.<a class="hash-link" href="#registering-your-application" title="Direct link to heading">#</a></h3><p>You <em>must register your application</em> with the provider, giving them details of your application such as its name, and where it will be located. This varies from provider to provider - see <a href="http://benfoster.io/blog/oauth-providers" target="_blank" rel="noopener noreferrer">this tutorial</a> for a good guide to the registration process for a number of popular providers. For example, for Google, you will need a Google+ account and to visit <a href="https://console.developers.google.com/" target="_blank" rel="noopener noreferrer">the Google developer&#x27;s console</a> to create an application.</p><p>For ELIXIR, you will need:</p><ol><li><p>an ELIXIR identity. Please register the ELIXIR ID <a href="https://elixir-europe.org/register" target="_blank" rel="noopener noreferrer">here</a> , if you don&#x27;t already</p><p>have it</p></li><li><p>register the new client <a href="https://login.elixir-czech.org/oidc/manage/dev/dynreg" target="_blank" rel="noopener noreferrer">here</a>, using the <em>Self-service client registration</em> page.</p></li><li><p>send an email to <a href="mailto:aai-contact@elixir-europe.org" target="_blank" rel="noopener noreferrer">aai-contact@elixir-europe.org</a> in order to receive a form that you have to complete with additional information</p></li></ol><p>For each application you will need to register the callback URI, which looks like:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-bash codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain">the_bluegenes_domain</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain">/api/auth/oauth2callback?provider</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">GOOGLE</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>or (if you use the legacy user interface):</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-bash codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token variable" style="color:rgb(191, 199, 213)">${webapp.baseurl}</span><span class="token plain">/</span><span class="token variable" style="color:rgb(191, 199, 213)">${webapp.path}</span><span class="token plain">/oauth2callback.do?provider</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token variable" style="color:rgb(191, 199, 213)">${PROVIDER}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>Where <code>webapp.baseurl</code> and <code>webapp.path</code> are the corresponding values from your configuration, and <code>PROVIDER</code> is the name of the provider in all uppercase letters (as configured below). Google requires the <code>provider</code> parameter as part of the URI, but other providers do not - you should check with each of them.</p><p>You can register 2 callback URIs if you want to provide both legacy and BlueGenes interfaces.</p><p>You will probably be asked to register a JavaScript domain. This is not used by us, but you can enter the <code>webapp.baseurl</code>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="enabling-supported-providers"></a>Enabling Supported Providers<a class="hash-link" href="#enabling-supported-providers" title="Direct link to heading">#</a></h3><p>You will need to inform the InterMine system of the names of the providers which have been configured to work with your application. This should be a comma separated list of provider names. The values are case insensitive, and will be processed as upper-case values. E.g.:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-text codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"># in  ~/.intermine/MINE.properties</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"># You can list just a single provider:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">oauth2.providers = GOOGLE</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"># or multiple providers, combining standard and custom providers:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">oauth2.providers = GOOGLE,ELIXIR,GITHUB,FACEBOOK,MICROSOFT,STRAVA,AIP</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="configuring-oltu-supported-providers"></a>Configuring OLTU Supported Providers<a class="hash-link" href="#configuring-oltu-supported-providers" title="Direct link to heading">#</a></h3><p>To configure an OLTU supported provider (such as Github or Facebook), you simply need to define the client-id and client-secret you registered your application with, eg:</p><p><strong>Warning</strong>
All secrets, including these ones (especially the client-secret) MUST not be committed to version control or made publicly accessible. DO NOT add them to your web.properties file, but instead, add them to your mine.properties file (eg. ~/.intermine/MINE.properties).</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-text codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"># ~/.intermine/MINE.properties</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">oauth2.GITHUB.client-id = $GH-CLIENT-ID</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">oauth2.GITHUB.client-secret = $GH-CLIENT-SECRET</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="configuring-a-custom-provider"></a>Configuring a Custom Provider<a class="hash-link" href="#configuring-a-custom-provider" title="Direct link to heading">#</a></h3><p>To configure a custom provider, some other properties need to be provided. Taking AIP&#x27;s araport system as an example, this can be configured thusly:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-text codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"># All OAuth2 clients need this configution. Do not commit to version control!</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">oauth2.AIP.client-id = YOUR_CLIENT_ID</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">oauth2.AIP.client-secret = YOUR_CLIENT_SECRET</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>The URLs needed by the flow - contact your provider to find these out:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-text codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">oauth2.AIP.url.auth = https://api.araport.org/authorize</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">oauth2.AIP.url.token = https://api.araport.org/token</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>The scopes need to access the identity resource. This should include sufficient levels of permission to access the name and email of the authenticating user.</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-text codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">oauth2.AIP.scopes = PRODUCTION</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>Information about the way the token endpoint functions. If the token endpoint expects parameters to be passed in the query-string use the value &quot;QUERY&quot;, and if the endpoint expects the parameters to be passed in the message body provide the value &quot;BODY&quot;:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-text codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">oauth2.AIP.messageformat = BODY</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>Information about the way the token endpoint responds. If the token endpoint responds with <code>JSON</code>, then provide the value &quot;JSON&quot;, and if the endpoint responds with url-encoded form-data, then provide the value &quot;FORM&quot;</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-text codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">oauth2.AIP.responsetype = JSON</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>Information about the way the identity resource operates. If the resource expects the bearer token to be in the query parameters, provide the value &quot;query&quot;, and if the bearer token is expected to be in the <code>Authorization</code> header, pass the value &quot;header&quot;.</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-text codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">oauth2.AIP.resource-auth-mechanism = header</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>The location of the identity resource. This must be a resource that can respond with <code>JSON</code>. If query parameters are needed they should be included in the URL. An <code>Accept</code> header will be provided with the value <code>application/json</code>.</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-text codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">oauth2.AIP.identity-resource = https://api.araport.org/profiles/v2/me</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>Guides to interpreting the response from the identity resource. These are all optional.</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-text codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"># Provide a value if the identity is within a message envelope. The value is the</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"># key of the envelope.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">oauth2.AIP.identity-envelope = result</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"># Provide a key to access a unique identifier for the user. Default = id</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">oauth2.AIP.id-key = uid</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"># Provide a key to access the user&#x27;s email. Default = email</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">oauth2.AIP.email-key = email</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"># Provide a key to access the user&#x27;s name. May be a composite value (comma separated). Default = name</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">oauth2.AIP.name-key = first_name,last_name</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="delegated-authentication-with-jwts"></a>Delegated Authentication with JWTs<a class="hash-link" href="#delegated-authentication-with-jwts" title="Direct link to heading">#</a></h2><p>InterMine supports completely automated delegated authentication, whereby a mediator may add a token that authenticates the user according to a chain of trust. This uses public-key cryptography to establish trust, and JWTs to transmit assertions.</p><p><strong>Note</strong>
All the configuration in this section can (and should) go in your <code>~/.intermine/MINE.properties</code> file.</p><p>To enable this feature you need to do a couple of things:</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="create-a-key-store-optional"></a>Create a Key Store [optional]<a class="hash-link" href="#create-a-key-store-optional" title="Direct link to heading">#</a></h3><p>InterMine needs access to public keys - this can mean creating a JKS key store (<a href="http://docs.oracle.com/javase/7/docs/api/java/security/KeyStore.html" target="_blank" rel="noopener noreferrer">http://docs.oracle.com/javase/7/docs/api/java/security/KeyStore.html</a>) with the certificate used to sign the JWTs - you should store the certificate against the alias with the same name as used in the <code>iss</code> claim in the JWT. The keystore file should be saved as <code>keystore.jks.$release</code> in the <code>~/.intermine</code> directory, or moved as part of your release cycle to <code>MINE/resources/webapp/WEB-INF/</code> immediately prior to building your webapp.</p><p>If you do this, then you need to provide the following configuration:</p><table><thead><tr><th align="left"><code>security.keystore.password</code></th><th align="left">The password for this keystore.</th></tr></thead></table><p>If your keystore has no password, then you do not need to set that property. See below for a quick guide to creating a valid keystore.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="provide-public-keys-in-your-properties-files-optional"></a>Provide Public Keys in your properties files [optional]<a class="hash-link" href="#provide-public-keys-in-your-properties-files-optional" title="Direct link to heading">#</a></h3><p>Instead of (or in addition to) creating a keystore, you can also provide keys in property files. Even though these are public keys, they are best included in your <code>~/.intermine/MINE.properties.release</code> file, since they will be specific to a particular instance. Internally if you do not provide a keystore, an empty one will be created.</p><p>This is done by listing them as follows:</p><table><thead><tr><th align="left"><code>security.publickey.$ALIAS</code></th><th align="left">$BASE64_ENCODED_PUBLIC_KEY</th></tr></thead></table><p>You can provide multiple keys and they will all be stored in the applications key-store under the given alias. Every key must have an alias, even if there is only one. If there is a problem with the key (it cannot be decoded, it is not valid, etc) it will be skipped by default, unless the following property is set to <code>true</code> (in which case it will throw an error and prevent your web-application from starting):</p><table><thead><tr><th align="left"><code>keystore.strictpublickeydecoding</code></th><th align="left"><code>true</code> or <code>false</code></th></tr></thead></table><p>The value <code>BASE64_ENCODED_PUBLIC_KEY</code> is the base64 encoding of the bytes of public key. Below is a sample program to illustrate how to do this in Java and python respectively:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-java codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">import</span><span class="token plain"> </span><span class="token namespace" style="color:rgb(178, 204, 214)">java</span><span class="token namespace punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token namespace" style="color:rgb(178, 204, 214)">security</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token class-name" style="color:rgb(255, 203, 107)">KeyPairGenerator</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">import</span><span class="token plain"> </span><span class="token namespace" style="color:rgb(178, 204, 214)">java</span><span class="token namespace punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token namespace" style="color:rgb(178, 204, 214)">security</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token class-name" style="color:rgb(255, 203, 107)">PublicKey</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">import</span><span class="token plain"> </span><span class="token namespace" style="color:rgb(178, 204, 214)">org</span><span class="token namespace punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token namespace" style="color:rgb(178, 204, 214)">apache</span><span class="token namespace punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token namespace" style="color:rgb(178, 204, 214)">commons</span><span class="token namespace punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token namespace" style="color:rgb(178, 204, 214)">codec</span><span class="token namespace punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token namespace" style="color:rgb(178, 204, 214)">binary</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token class-name" style="color:rgb(255, 203, 107)">Base64</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">EncodeKey</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">static</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">main</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token class-name" style="color:rgb(255, 203, 107)">String</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain"> args</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">throws</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">Exception</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token class-name" style="color:rgb(255, 203, 107)">PublicKey</span><span class="token plain"> key </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">getKey</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token class-name" style="color:rgb(255, 203, 107)">Base64</span><span class="token plain"> encoder </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">Base64</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token class-name" style="color:rgb(255, 203, 107)">KeyPairGenerator</span><span class="token plain"> keyGen </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">KeyPairGenerator</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">getInstance</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;RSA&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token class-name" style="color:rgb(255, 203, 107)">System</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">out</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">println</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">encoder</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">encodeToString</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">key</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">getEncoded</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">private</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">static</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">PublicKey</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">getKey</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Generating a random key - provide your own of course.</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> keyGen</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">generateKeyPair</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">getPublic</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>or</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-python codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># using pycrypto https://www.dlitz.net/software/pycrypto/</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">from</span><span class="token plain"> Crypto</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">PublicKey </span><span class="token keyword" style="font-style:italic">import</span><span class="token plain"> RSA</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">from</span><span class="token plain"> Crypto </span><span class="token keyword" style="font-style:italic">import</span><span class="token plain"> Random</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Generate a new random public key.</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">random </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> Random</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">new</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">read</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">pair </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> RSA</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">generate</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">1024</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> random</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">read</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">public_key </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> pair</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">publickey</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">print</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">base64</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">encodestring</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">public_key</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">exportKey</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token builtin" style="color:rgb(130, 170, 255)">format</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;DER&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="selecting-keys-at-runtime"></a>Selecting keys at runtime.<a class="hash-link" href="#selecting-keys-at-runtime" title="Direct link to heading">#</a></h3><p>Since this feature relies on public key cryptography, you need to tell the InterMine application which keys to use to verify which JWT tokens. This can be done with the following properties:</p><table><thead><tr><th align="left"><code>jwt.verification.strategy</code></th><th align="left"><code>NAMED_ALIAS</code> (default), <code>ANY</code>, or <code>WHITELIST</code> - optional</th></tr></thead></table><p>This property defaults to the most secure option, <code>NAMED_ALIAS</code>, where only keys associated with the issuer of the token will be used to verify it. This means you will need to link the two. Each token must identify its issuer (with the <code>iss</code> claim), you can map from that value to a key available to InterMine by providing the alias it is available as in the keystore. If you plan on accepting your own tokens, then you can provide the alias of your private key.</p><table><thead><tr><th align="left"><code>security.keystore.alias.$iss</code></th><th align="left">The alias for the key certificate used to sign the JWT.</th></tr></thead></table><p>If you use the <code>WHITELIST</code> strategy, then you must provide the list of aliases that can be used to verify JWTs. All of them will be tried until one verifies successfully.</p><table><thead><tr><th align="left"><code>jwt.alias.whitelist</code></th><th align="left">The comma separated list of aliases to use.</th></tr></thead></table><p>If you select the <code>ANY</code> strategy, no further configuration is needed.</p><p>Multiple issuers can be supported by providing a key for each alias.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="managing-non-standard-claims"></a>Managing non-standard claims<a class="hash-link" href="#managing-non-standard-claims" title="Direct link to heading">#</a></h3><p>InterMine reads to claims about the end user from the JWT - who it identifies, and their email address. The email claim is non-standard, and needs to be configured. The subject claim can be overridden if the JWT tokens you are receiving have their subject identified in a different claim. To do so provide the following properties (in the following table, <code>$iss</code> is the value of the <code>iss</code> claim of the token):</p><table><thead><tr><th align="left"></th><th align="left"></th></tr></thead><tbody><tr><td align="left"><code>jwt.key.email.$iss</code></td><td align="left">The name of the claim that provides the email of the subject. Defaults to <code>http://wso2.org/claims/emailaddress</code></td></tr><tr><td align="left"><code>jwt.key.sub.$iss</code></td><td align="left">The name of the claim that provides the identity of the subject. This should be unique for each issuer. Not needed if the token provides the <code>sub</code> claim</td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="other-properties"></a>Other properties<a class="hash-link" href="#other-properties" title="Direct link to heading">#</a></h3><p>The following properties may also be important</p><table><thead><tr><th align="left"></th><th align="left"></th></tr></thead><tbody><tr><td align="left"><code>jwt.publicidentity</code></td><td align="left">Used as the iss claim on any tokens the application issues itself. Also, if the tokens received include an <code>aud</code> claim (see <a href="http://self-issued.info/docs/draft-ietf-oauth-json-web-token.html#audDef" target="_blank" rel="noopener noreferrer">aud definition</a>) then this value must match that value for verification to complete. Defaults to your project title.</td></tr><tr><td align="left"><code>jwt.verifyaudience</code></td><td align="left"><code>true</code> or <code>false</code> (default = true). Whether to verify the aud claim.</td></tr><tr><td align="left"><code>security.privatekey.password</code></td><td align="left">Used to gain access to the private key used by the application for signing its own tokens.</td></tr><tr><td align="left"><code>security.privatekey.alias</code></td><td align="left">Used to retrieve the private key used by the application for signing its own tokens. To provide a private key you must configure a key store.</td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="checking-your-configuration"></a>Checking your configuration<a class="hash-link" href="#checking-your-configuration" title="Direct link to heading">#</a></h3><p>An ant task is provided to make checking this (admittedly rather complex) set-up easier. To make use of it you should configure your keys as for production, acquire a valid JWT representative of one of the ones you expect to encounter in production, enter you webapp directory (<code>$MINE/webapp</code>) and then call the following ant task:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-bash codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">ant verify-jwt </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    -Drelease</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token variable" style="color:rgb(191, 199, 213)">$RELEASE</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Needed to read the correct properties file</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    -Dkeystore</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token variable" style="color:rgb(191, 199, 213)">$KEYSTORE_LOCATION</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    -Djwt</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token variable" style="color:rgb(191, 199, 213)">$JWT</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>If correctly set up, you should get a message printed to the console telling you who the token identifies.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="setting-up-the-key-store"></a>Setting up the Key-Store<a class="hash-link" href="#setting-up-the-key-store" title="Direct link to heading">#</a></h3><p>You will need a Java Key Store to use public-key cryptography for security. To get started, you can use the following command to generate a <code>keystore.jks</code> file with a new public/private key-pair:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-text codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">keytool -genkey -alias ALIAS_A -keyalg RSA -keystore keystore.jks -keysize 2048</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>The following command will allow you to add a certificate to your key-store:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-text codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">keytool -import -trustcacerts -alias ALIAS_B -file B.crt -keystore keystore.jks</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>This set-up would allow you to start accepting JWT tokens signed by the owner of <code>B.crt</code>, which could be configured by making sure they are associated in your property files. So if the owner of <code>B.crt</code> identified themselves with the <code>iss</code> (issuer) claim <a href="http://b.com" target="_blank" rel="noopener noreferrer"><code>http://b.com</code></a>, then you could link the certificate to the claim with the following property:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-text codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">security.keystore.alias.http://b.com = ALIAS_B</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/intermine/im-docs/edit/master/docs/webapp/properties/oauth2.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2LL7"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/im-docs/docs/next/webapp/properties/web-properties"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Features</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/im-docs/docs/next/webapp/properties/webconfig-model"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Data and Widget Configuration Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_2xL- thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#registering-your-application" class="table-of-contents__link">Registering your Application.</a></li><li><a href="#enabling-supported-providers" class="table-of-contents__link">Enabling Supported Providers</a></li><li><a href="#configuring-oltu-supported-providers" class="table-of-contents__link">Configuring OLTU Supported Providers</a></li><li><a href="#configuring-a-custom-provider" class="table-of-contents__link">Configuring a Custom Provider</a></li><li><a href="#delegated-authentication-with-jwts" class="table-of-contents__link">Delegated Authentication with JWTs</a><ul><li><a href="#create-a-key-store-optional" class="table-of-contents__link">Create a Key Store [optional]</a></li><li><a href="#provide-public-keys-in-your-properties-files-optional" class="table-of-contents__link">Provide Public Keys in your properties files [optional]</a></li><li><a href="#selecting-keys-at-runtime" class="table-of-contents__link">Selecting keys at runtime.</a></li><li><a href="#managing-non-standard-claims" class="table-of-contents__link">Managing non-standard claims</a></li><li><a href="#other-properties" class="table-of-contents__link">Other properties</a></li><li><a href="#checking-your-configuration" class="table-of-contents__link">Checking your configuration</a></li><li><a href="#setting-up-the-key-store" class="table-of-contents__link">Setting up the Key-Store</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/im-docs/docs/get-started/tutorial/index">Tutorial</a></li><li class="footer__item"><a class="footer__link-item" href="/im-docs/docs/get-started/create-your-mine">Create Your Own InterMine</a></li><li class="footer__item"><a class="footer__link-item" href="/im-docs/docs/web-services/index">Web Services</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="http://chat.intermine.org" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord</a></li><li class="footer__item"><a href="https://twitter.com/intermineorg" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a href="https://intermineorg.wordpress.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Blog</a></li><li class="footer__item"><a href="https://github.com/intermine/im-docs" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="/im-docs/docs/next/webapp/properties/docs/about/contact-us">Contact us</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2021, University of Cambridge. Built with Docusaurus.</div></div></div></footer></div>
<script src="/im-docs/styles.38d79b88.js"></script>
<script src="/im-docs/runtime~main.22394c85.js"></script>
<script src="/im-docs/main.ecd68a02.js"></script>
<script src="/im-docs/1.4ca693d1.js"></script>
<script src="/im-docs/2.d6165643.js"></script>
<script src="/im-docs/475.b623fae3.js"></script>
<script src="/im-docs/476.7098cd3f.js"></script>
<script src="/im-docs/935f2afb.44febb28.js"></script>
<script src="/im-docs/17896441.08f6c642.js"></script>
<script src="/im-docs/57a3e1b0.aa0d8934.js"></script>
</body>
</html>